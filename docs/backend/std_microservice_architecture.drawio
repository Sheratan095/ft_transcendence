<mxfile host="65bd71144e">
    <diagram id="rhPT5s6ItHXYKve-Ltm8" name="Page-1">
        <mxGraphModel dx="7528" dy="3497" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="65" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="360" y="925" width="860" height="3270" as="geometry"/>
                </mxCell>
                <mxCell id="91" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-552.02" y="1967.7" width="790" height="982.3" as="geometry"/>
                </mxCell>
                <mxCell id="94" value="&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;function&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;checkEnvVariables&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;requiredEnvVars&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;let&lt;/span&gt; &amp;nbsp; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;missingEnvVarsCount&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;for&lt;/span&gt; (&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;envVar&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;of&lt;/span&gt; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;requiredEnvVars&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;process&lt;/span&gt;.&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;env&lt;/span&gt;[&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;envVar&lt;/span&gt;])&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;error&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`Missing required environment variable: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;envVar&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;missingEnvVarsCount&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;+&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;+&lt;/span&gt;;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;missingEnvVarsCount&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;process&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;exit&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;1&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;// Middleware to validate API key for inter-service communication&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;// This function checks for a valid API key in the request headers&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;// &amp;nbsp;this ensures that only internal services can access protected endpoints&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;validateApiKey&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;request&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;reply&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;log&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Register request received in auth:&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;request&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;headers&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;apiKey&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;request&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;headers&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;x-internal-api-key&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;expectedApiKey&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;process&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;env&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;INTERNAL_API_KEY&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;apiKey&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;||&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;apiKey&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!==&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;expectedApiKey&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;reply&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;code&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;401&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;).&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;send&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Unauthorized: Invalid or missing API key&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;message&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;This service only accepts requests from authorized services&#39;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }))&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;formatDate&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;date&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;font style=&quot;&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(106, 153, 85), rgb(106, 153, 85));&quot;&gt;// Convert date to &#39;YYYY-MM-DD HH:MM:SS&#39; format (sqlite format)&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(106, 153, 85));&quot;&gt;// &lt;/font&gt;&amp;nbsp;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(106, 153, 85), rgb(106, 153, 85));&quot;&gt;from js format &#39;YYYY-MM-DDTHH:MM:SSZ&#39;&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;const &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(130, 170, 255);&quot;&gt;pad&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt; = &lt;/span&gt;&lt;span style=&quot;color: rgb(215, 219, 224);&quot;&gt;n&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt; =&amp;gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(130, 170, 255);&quot;&gt;String&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(215, 219, 224);&quot;&gt;n&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;padStart&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(247, 140, 108);&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: rgb(95, 126, 151);&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(236, 196, 141);&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(214, 222, 235), rgb(40, 47, 58)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(214, 222, 235), rgb(40, 47, 58));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; (&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(127, 219, 202);&quot;&gt;date&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;getUTCFullYear&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;() &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(236, 196, 141);&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;+&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(130, 170, 255);&quot;&gt;pad&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(127, 219, 202);&quot;&gt;date&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;getUTCMonth&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;() &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(247, 140, 108);&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(236, 196, 141);&quot;&gt;-&lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;+&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(130, 170, 255);&quot;&gt;pad&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(127, 219, 202);&quot;&gt;date&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;getUTCDate&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;()) &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(236, 196, 141);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;+&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(130, 170, 255);&quot;&gt;pad&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(127, 219, 202);&quot;&gt;date&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;getUTCHours&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;()) &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(236, 196, 141);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;+&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(130, 170, 255);&quot;&gt;pad&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(127, 219, 202);&quot;&gt;date&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;getUTCMinutes&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;()) &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;+&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(236, 196, 141);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;+&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(214, 222, 235), rgb(40, 47, 58));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(130, 170, 255);&quot;&gt;pad&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(127, 219, 202);&quot;&gt;date&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(130, 170, 255);&quot;&gt;getUTCSeconds&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;())&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(214, 222, 235), rgb(40, 47, 58));&quot;&gt;&lt;span style=&quot;color: rgb(214, 222, 235); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; );&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-544.16" y="1970" width="650" height="980" as="geometry"/>
                </mxCell>
                <mxCell id="2" value="" style="rounded=1;whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="23.99" y="12.6" width="280" height="777.4" as="geometry"/>
                </mxCell>
                <mxCell id="3" value="gateway" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="92.21" y="45" width="50" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="4" value="backend" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="70.47" y="15" width="50" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="6" value="" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=left;shape=mxgraph.office.concepts.folder_open;aspect=fixed;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="43.99000000000001" y="21.75" width="21.49" height="16.5" as="geometry"/>
                </mxCell>
                <mxCell id="7" value="" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=left;shape=mxgraph.office.concepts.folder_open;aspect=fixed;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="65.48" y="51.75" width="21.49" height="16.5" as="geometry"/>
                </mxCell>
                <mxCell id="8" value="services" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="91.22999999999999" y="75" width="48.51" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=left;shape=mxgraph.office.concepts.folder_open;aspect=fixed;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="65.48000000000002" y="81.75" width="21.49" height="16.5" as="geometry"/>
                </mxCell>
                <mxCell id="10" value="microservice 1" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="109.85999999999999" y="105" width="89.26" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="15" value="microservice 2" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="109.85999999999999" y="135" width="89.26" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=left;shape=mxgraph.office.concepts.folder_open;aspect=fixed;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="84.72999999999999" y="141.75" width="21.49" height="16.5" as="geometry"/>
                </mxCell>
                <mxCell id="17" value="" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=left;shape=mxgraph.office.concepts.folder;aspect=fixed;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="84.21999999999998" y="110" width="22" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="data" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="132.98000000000002" y="165" width="30" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="19" value="" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=left;shape=mxgraph.office.concepts.folder_open;aspect=fixed;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="107.97999999999998" y="171.75" width="21.49" height="16.5" as="geometry"/>
                </mxCell>
                <mxCell id="20" value="src" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="132.98000000000002" y="248.7" width="20" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="microservice-db.db" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="147.98000000000005" y="218.7" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="23" value="" style="image;aspect=fixed;html=1;points=[];align=left;fontSize=12;image=img/lib/azure2/databases/SQL_Server_Registries.svg;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="126.05" y="223.7" width="21.93" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="25" value="" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=left;shape=mxgraph.office.concepts.folder_open;aspect=fixed;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="107.97999999999998" y="256.75" width="21.49" height="16.5" as="geometry"/>
                </mxCell>
                <mxCell id="29" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="125.19" y="280" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="30" value="microservice-controllers.js" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="151.40000000000003" y="278.7" width="148.07" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="31" value="microservice-db.js" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="151.40000000000003" y="316" width="148.07" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="32" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="125.19" y="316" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="33" value="microservice-routes.js" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="151.40000000000003" y="356" width="148.07" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="34" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="125.19" y="356" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="35" value="microservice.js" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="151.40000000000003" y="396" width="148.07" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="36" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="125.19" y="396" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="37" value="microservice-help&amp;nbsp;&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(192, 192, 192), rgb(255, 255, 255));&quot;&gt;.js&lt;/font&gt;&lt;/span&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="151.40000000000003" y="436" width="148.07" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="38" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="125.19" y="436" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="39" value="" style="shape=image;html=1;verticalLabelPosition=bottom;verticalAlign=top;imageAspect=0;image=img/clipart/Gear_128x128.png;aspect=fixed;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="109.97999999999999" y="670.72" width="21.76" height="26.11" as="geometry"/>
                </mxCell>
                <mxCell id="40" value=".env" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="141.74" y="668.78" width="50" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="41" value="" style="shape=mxgraph.signs.sports.binoculars;html=1;pointerEvents=1;fillColor=light-dark(#000000,#009900);strokeColor=none;verticalLabelPosition=bottom;verticalAlign=top;align=center;aspect=fixed;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="111.86" y="702.8299999999999" width="18" height="18" as="geometry"/>
                </mxCell>
                <mxCell id="42" value="nodemon.json" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="139.98000000000002" y="696.8299999999999" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="45" value="" style="dashed=0;outlineConnect=0;html=1;align=center;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.weblogos.json;fillColor=light-dark(#FFFFFF,#66CC00);aspect=fixed;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="108.22" y="726.8299999999999" width="21.98" height="23.8" as="geometry"/>
                </mxCell>
                <mxCell id="46" value="package-lock.json" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="139.98000000000002" y="723.7299999999999" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="47" value="" style="dashed=0;outlineConnect=0;html=1;align=center;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.weblogos.json;fillColor=light-dark(#FFFFFF,#66CC00);aspect=fixed;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="108.22" y="756.8299999999999" width="21.98" height="23.8" as="geometry"/>
                </mxCell>
                <mxCell id="48" value="&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(192, 192, 192), rgb(255, 255, 255));&quot;&gt;package&lt;/font&gt;&lt;span style=&quot;color: rgb(192, 192, 192);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(192, 192, 192), rgb(255, 255, 255));&quot;&gt;.json&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="139.98000000000002" y="753.7299999999999" width="90" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="52" value="" style="endArrow=none;html=1;labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="95" y="168" as="sourcePoint"/>
                        <mxPoint x="95" y="780" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="53" value="" style="endArrow=none;html=1;labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="116" y="248" as="sourcePoint"/>
                        <mxPoint x="116" y="195" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="54" value="" style="endArrow=none;html=1;labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="118" y="276" as="sourcePoint"/>
                        <mxPoint x="118" y="661" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="56" value="" style="endArrow=none;html=1;exitX=0.179;exitY=0.186;exitDx=0;exitDy=0;exitPerimeter=0;labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="74" y="105.15719999999999" as="sourcePoint"/>
                        <mxPoint x="74" y="780" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="57" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="360" y="-180" width="860" height="1060" as="geometry"/>
                </mxCell>
                <mxCell id="59" value="&lt;div style=&quot;line-height: 19px; white-space-collapse: preserve; font-size: 14px; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;Fastify&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;fastify&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;ajvErrors&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;ajv-errors&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;fastify&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;Fastify&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;({&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;logger&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;false&lt;/span&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(91, 131, 73));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;ajv&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(91, 131, 73));&quot;&gt;// Allows to add specific reply message for each failed &quot;validation&quot; in route schema&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;plugins&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; [&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;ajvErrors&lt;/span&gt;],&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;customOptions&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;allErrors&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt; } &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// show all errors, not just the first&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;});&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Load environment variables from .env file&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;dotenv&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;dotenv&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;dotenv&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;config&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;database&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;./microservice-db.js&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;let&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;database&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Validate required environment variables&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;checkEnvVariables&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;./&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;microservice-help.js&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;checkEnvVariables&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;([&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;INTERNAL_API_KEY&#39;, &#39;PORT&#39;, &#39;...&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;]);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Setup routes&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;microserviceRoutes&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;./microservice-routes.js&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;fastify&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;register&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: rgb(156, 220, 254);&quot;&gt;&lt;font style=&quot;color: rgb(156, 220, 254);&quot;&gt;microserviceRoutes&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Setup Swagger documentation&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;setupSwagger&lt;/span&gt; } &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;./microservice-swagger.js&#39;&lt;/span&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;setupSwagger&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;fastify&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;);&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(153, 128, 0));&quot;&gt;start &lt;/font&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; () &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Initialize database&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;database&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Database&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;database&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;initialize&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;()&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Make database available to all routes&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;fastify&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;decorate&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;authDb&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;authDatabase&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;port&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;process&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;env&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;PORT&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;host&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;process&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;env&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;HOST&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;fastify&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;listen&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;({ &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;port&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;port&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;host&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;host&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; })&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;log&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`Server is running on &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;host&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;port&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;fastify&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;log&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;error&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;process&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;exit&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;start&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;()&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="370" y="-185" width="800" height="1060" as="geometry"/>
                </mxCell>
                <mxCell id="60" value="microservice-swagger&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(192, 192, 192), rgb(255, 255, 255));&quot;&gt;.js&lt;/font&gt;&lt;/span&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="151.40000000000003" y="476" width="148.07" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="61" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="125.18999999999998" y="476" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="64" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="370" y="-207.4" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="66" value="&lt;div style=&quot;line-height: 19px; white-space-collapse: preserve; font-size: 14px; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(12, 67, 96), rgb(12, 67, 96));&quot;&gt;getItem&lt;/font&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(62, 62, 62), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(12, 67, 96), rgb(12, 67, 96));&quot;&gt;getItems&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(62, 62, 62), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;postItem&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;    ...&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;./microservice-controllers.js&#39;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;font style=&quot;color: rgb(62, 62, 62);&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(62, 62, 62), rgb(62, 62, 62));&quot;&gt;{&lt;/font&gt;&lt;font style=&quot;color: rgb(62, 62, 62);&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;validateInternalApiKey&lt;/span&gt;&lt;font&gt;&lt;font style=&quot;color: light-dark(rgb(62, 62, 62), rgb(62, 62, 62));&quot;&gt; } &lt;/font&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;font style=&quot;color: rgb(62, 62, 62);&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;./auth-help.js&#39;&lt;/span&gt;&lt;font style=&quot;color: rgb(62, 62, 62);&quot;&gt;;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Item schema (&quot;Reply object&quot;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;Item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;object&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;properties&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;string&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;string&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(212, 212, 212), rgb(91, 131, 73));&quot;&gt; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;withInternalAuth&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(212, 212, 212), rgb(91, 131, 73));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(212, 212, 212), rgb(91, 131, 73));&quot;&gt;// All routes can be called just by gateway with&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(91, 131, 73));&quot;&gt;internal Api Key&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;headers&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;object&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;required&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; [&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;x-internal-api-key&#39;&lt;/span&gt;],&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;properties&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;x-internal-api-key&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; { &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;string&#39;&lt;/span&gt; }&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; }&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;};&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &amp;nbsp; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;withCookieAuth&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;= &lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(212, 212, 212), rgb(91, 131, 73));&quot;&gt;// All protected routes must be authenticated by JWT&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&#x9;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(91, 131, 73));&quot;&gt;that&#39;s sent in the http-only cookies&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: rgb(62, 62, 62);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;security&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;font style=&quot;color: rgb(62, 62, 62);&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(62, 62, 62), rgb(62, 62, 62));&quot;&gt;[{&lt;/font&gt;&lt;font style=&quot;color: rgb(62, 62, 62);&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;cookieAuth&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;font style=&quot;color: rgb(62, 62, 62);&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(62, 62, 62), rgb(62, 62, 62));&quot;&gt;[] }],&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;headers&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;object&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;properties:&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;accessToken&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;string&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; },&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;refreshToken&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;string&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;};&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;getItemsOpts&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;schema&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(12, 67, 96));&quot;&gt;  &lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;withInternalAuth&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// &amp;lt; inserts both security + headers here (spread syntax)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;withCookieAuth&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;200&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;array&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;items&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;Item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; },&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;  &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt;preHandler&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;:&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt; validateApiKey&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(77, 77, 77));&quot;&gt;,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;handler&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(62, 62, 62));&quot;&gt;:&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;getItems&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(91, 131, 73);&quot;&gt;// function to handle this request&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;getItemOpts&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;schema&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(12, 67, 96));&quot;&gt;  &lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;withInternalAuth&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// &amp;lt; inserts both security + headers here (spread syntax)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;withCookieAuth&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: rgb(204, 204, 204);&quot;&gt;{&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;200&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;Item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(220, 220, 170); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;  &lt;/span&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt;preHandler&lt;/font&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;:&lt;/font&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt; validateApiKey&lt;/font&gt;&lt;span style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(77, 77, 77));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;handler&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(62, 62, 62));&quot;&gt;:&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;getItem&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;font&gt;&lt;div style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0)); line-height: 19px;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;color: rgb(204, 204, 204); line-height: 19px;&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;!!! ALL STANDARD VALIDATIONS ARE DONE IN THE SCHEMA OF THE ROUTE !!!&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;RULE &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;DESCRIPTION EXAMPLE&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;minLength / maxLength &amp;nbsp; Limits string length &amp;nbsp; &amp;nbsp;{ minLength: 3, maxLength: 20 }&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;pattern Regex pattern &amp;nbsp; { pattern: &quot;^[a-zA-Z0-9_]+$&quot; }&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;format &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Special formats (Ajv built-in) &amp;nbsp;{ format: &#39;email&#39; } or { format: &#39;uuid&#39; }&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;enum &amp;nbsp; &amp;nbsp;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Allow only certain values &amp;nbsp; { enum: [&#39;admin&#39;, &#39;user&#39;, &#39;guest&#39;] }&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;const &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;Must match exactly one value &amp;nbsp; &amp;nbsp;{ const: &#39;yes&#39; }&lt;/font&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/font&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;postItemOpts&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;schema&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(12, 67, 96));&quot;&gt;  &lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;withInternalAuth&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// &amp;lt; inserts both security + headers here (spread syntax)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;withCookieAuth&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;body&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;object&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;required&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; [&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;name&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;], &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(111, 146, 96));&quot;&gt;// Mandatory parameters&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;properties&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;   type&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;string&#39;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(111, 146, 96);&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span&gt;   &lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;maxLength&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;254&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(111, 146, 96));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;  &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;errorMessage&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(111, 146, 96));&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;{&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(111, 146, 96));&quot;&gt; // Allowed by ajv-errors plugin&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;format&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Invalid email format&#39;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;}&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;}, &lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;201&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;Item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(220, 220, 170); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;  &lt;/span&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt;preHandler: validateApiKey&lt;/font&gt;&lt;span style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(77, 77, 77));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;handler&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;addItem&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;deleteItemOpts&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;schema&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(12, 67, 96));&quot;&gt;  &lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;withInternalAuth&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// &amp;lt; inserts both security + headers here (spread syntax)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;withCookieAuth&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;200&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;object&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;properties&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;message&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;string&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; },&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(220, 220, 170); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;  &lt;/span&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt;preHandler: validateApiKey&lt;/font&gt;&lt;span style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(77, 77, 77));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;handler&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;deleteItem&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;updateItemOpts&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;schema&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(12, 67, 96));&quot;&gt;  &lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;withInternalAuth&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// &amp;lt; inserts both security + headers here (spread syntax)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;withCookieAuth&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;response&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;200&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;Item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(220, 220, 170); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;  &lt;/span&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt;preHandler: validateApiKey&lt;/font&gt;&lt;span style=&quot;color: rgb(192, 192, 192); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;&lt;font style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); color: light-dark(rgb(204, 204, 204), rgb(77, 77, 77));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;handler&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;updateItem&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/font&gt;&lt;font style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px; white-space-collapse: preserve; font-size: 14px; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;import&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt; {&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(12, 67, 96));&quot;&gt;&amp;nbsp; &amp;nbsp; handleNewConnection,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(12, 67, 96));&quot;&gt;&amp;nbsp; &amp;nbsp; handleMessage,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(12, 67, 96));&quot;&gt;&amp;nbsp; &amp;nbsp; handleClose,&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(12, 67, 96));&quot;&gt;&amp;nbsp; &amp;nbsp; handleError&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(62, 62, 62));&quot;&gt;}&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(145, 93, 71));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;from&lt;/span&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(62, 62, 62));&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;&#39;./microservice-ws-handlers.js&#39;&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(62, 62, 62));&quot;&gt;;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(12, 67, 96));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;&lt;font color=&quot;#3e3e3e&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(153, 128, 0));&quot;&gt;microservice&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(153, 128, 0));&quot;&gt;Routes&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;fastify&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;authDatabase&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Actual WebSocket endpoint&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;fastify&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;get&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;/ws&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;websocket&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; }, (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// if the request is invalid, reject it&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;let&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;handleNewConnection&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; ;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;on&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;message&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;msg&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;handleMessage&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;msg&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);});&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;on&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;close&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, () &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;handleClose&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);});&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;on&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;error&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;handleError&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);});&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; });&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;    fastify&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;get&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;/items&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(7, 105, 158));&quot;&gt;getItemsOpts&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;    fastify&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(153, 128, 0);&quot;&gt;get&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;/items/:id&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(7, 105, 158));&quot;&gt;getItemOpts&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;    fastify&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;post&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;/items/&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(7, 105, 158));&quot;&gt;postItemOpts&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;fastify&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;delete&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;/items/:id&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: rgb(79, 193, 255);&quot;&gt;deleteItemOpts&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;fastify&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;put&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&#39;&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(145, 93, 71);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;/items/:id&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&#39;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;updateItemOpts&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="370" y="930" width="770" height="3260" as="geometry"/>
                </mxCell>
                <mxCell id="76" value="microservice-controllers.js" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-515.72" y="841.3" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="77" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="380" y="890" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="81" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;Example with ITEMS management&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="650" y="950" width="210" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="85" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-550" y="870" width="790" height="1040" as="geometry"/>
                </mxCell>
                <mxCell id="86" value="microservice-routes.js" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="404.28" y="890" width="170" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="87" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-540" y="842.6" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="88" value="&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;v4&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;uuidv4&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;require&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;uuid&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;let&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;items&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(111, 146, 96));&quot;&gt;//All interactions with items are to be considered as db query&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt;getItems &lt;/font&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;reply&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;reply&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;send&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;items&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt;getItem &lt;/font&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;reply&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;params&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;items&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;find&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;((&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;===&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;reply&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;send&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt;addItem &lt;/font&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;reply&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;body&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;uuidv4&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(),&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;items&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; [&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;items&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;]&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;reply&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;code&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;201&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;).&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;send&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt;deleteItem &lt;/font&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;reply&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;params&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;items&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;items&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;filter&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;((&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!==&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;reply&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;send&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;({ &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;message&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`Item &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt; has been removed`&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; })&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;&lt;font color=&quot;#3e3e3e&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(86, 156, 214), rgb(153, 128, 0));&quot;&gt;updateItem &lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;reply&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;params&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;body&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;items&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;items&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;map&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;((&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;===&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;?&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;))&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;items&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;find&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;((&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;===&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;reply&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;send&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;item&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;module&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;exports&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;getItems&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;getItem&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;addItem&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;deleteItem&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;updateItem&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-540" y="880" width="590" height="1020" as="geometry"/>
                </mxCell>
                <mxCell id="89" value="" style="endArrow=classic;html=1;edgeStyle=orthogonalEdgeStyle;curved=1;strokeColor=light-dark(#000000,#6F9260);labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="220" y="1782"/>
                            <mxPoint x="220" y="980"/>
                            <mxPoint x="375" y="980"/>
                        </Array>
                        <mxPoint x="-388" y="1781" as="sourcePoint"/>
                        <mxPoint x="379" y="979" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="90" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;Example with ITEMS management&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="23.99000000000001" y="871.3" width="210" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="92" value="microservice-help.js" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-530" y="1937.7" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="93" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-544.16" y="1940.6000000000001" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="95" value="" style="endArrow=classic;html=1;fontColor=light-dark(#000000,#6F9260);edgeStyle=orthogonalEdgeStyle;elbow=vertical;curved=1;strokeColor=light-dark(#000000,#6F9260);labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="377" y="2160"/>
                            <mxPoint x="290" y="2160"/>
                            <mxPoint x="290" y="2383"/>
                        </Array>
                        <mxPoint x="377" y="2164" as="sourcePoint"/>
                        <mxPoint x="16" y="2383" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="96" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-1486" y="879.7" width="850" height="2580.3" as="geometry"/>
                </mxCell>
                <mxCell id="97" value="microservice-db.js" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-1456.72" y="849.6999999999999" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="98" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-1476" y="852.3" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="100" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-660" y="63.74" width="620" height="495" as="geometry"/>
                </mxCell>
                <mxCell id="101" value="package.json" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-609" y="30.25999999999989" width="110" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="102" value="" style="dashed=0;outlineConnect=0;html=1;align=center;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.weblogos.json;fillColor=light-dark(#FFFFFF,#66CC00);aspect=fixed;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-639" y="30.259999999999998" width="30" height="32.48" as="geometry"/>
                </mxCell>
                <mxCell id="103" value="&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;auth&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;1.0.0&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;module&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;main&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;src/mircoservice.js&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;start&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;node src/microservice.js&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;dev&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;nodemon src/&lt;/span&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;microservice&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;.js&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;keywords&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: [],&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;author&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;license&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;ISC&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;dependencies&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;@fastify/jwt&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;^10.0.0&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;dotenv&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;^17.2.3&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;fastify&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&lt;font style=&quot;color: rgb(204, 204, 204);&quot;&gt;:&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;^5.6.1&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;    &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(12, 67, 96), rgb(12, 67, 96));&quot;&gt;&quot;@fastify/swagger&quot;&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;:&lt;/font&gt;&lt;font color=&quot;#cccccc&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;^9.5.2&quot;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;sqlite3&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;^5.1.7&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(206, 145, 120), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;ajv-errors&quot;&lt;/span&gt;&lt;font style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;^3.0.0&quot;&lt;/span&gt;&lt;font style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;devDependencies&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;nodemon&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;^3.1.10&quot;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space-collapse: preserve;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-670" y="51.139999999999986" width="340" height="510" as="geometry"/>
                </mxCell>
                <mxCell id="104" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;A new starting script could be added to run some tests&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#6F9260);labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-380" y="270.49" width="310" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="106" value="" style="endArrow=classic;html=1;strokeColor=light-dark(#000000,#6F9260);fontColor=light-dark(#000000,#6F9260);labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="-372" y="284.74" as="sourcePoint"/>
                        <mxPoint x="-538" y="245.74" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="107" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;}&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=55;horizontal=1;fontColor=light-dark(#000000,#6F9260);labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-340" y="173.74" width="40" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="108" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;The starting scripts are called by Makefile&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;separately for each microservice&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;using &quot;npm dun &amp;lt;dev/start/test/...&amp;gt;&quot; in the folder&amp;nbsp;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#6F9260);labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-310" y="188.74" width="280" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="109" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-660" y="602" width="620" height="218.95" as="geometry"/>
                </mxCell>
                <mxCell id="110" value="&lt;div style=&quot;line-height: 19px; white-space-collapse: preserve; font-size: 14px; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: rgb(204, 204, 204);&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;watch&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: [&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;**.js&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;.env&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;],&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;ignore&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: [&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;node_modules&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;*.log&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;*.json&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;],&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;ext&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;js,json,env&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;env&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: {&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;NODE_ENV&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;development&quot;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; },&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;verbose&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;&lt;font style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;&quot;delay&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(61, 121, 171));&quot;&gt;2500&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-650" y="611.4699999999999" width="390" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="113" value="nodemon.json" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-621.02" y="570.7099999999998" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="114" value="" style="dashed=0;outlineConnect=0;html=1;align=center;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.weblogos.json;fillColor=light-dark(#FFFFFF,#66CC00);aspect=fixed;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-646.02" y="569.4699999999999" width="30" height="32.48" as="geometry"/>
                </mxCell>
                <mxCell id="115" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;Directories or files to watch for changes&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#6F9260);labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-430" y="630.0999999999999" width="230" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="116" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;The app is restarted after 2.5 seconds since last change&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#6F9260);labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-540" y="764.05" width="320" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="117" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;File extensions that trigger a restart&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=light-dark(#000000,#6F9260);labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-480" y="666.0999999999999" width="210" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="118" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;Logging the restarting process&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-515.72" y="743.9" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="I3quexlsJqC9GEj5_S_n-118" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="125.19" y="516.65" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="I3quexlsJqC9GEj5_S_n-119" value="microservice-ws-handler&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(192, 192, 192), rgb(255, 255, 255));&quot;&gt;.js&lt;/font&gt;&lt;/span&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="151.4" y="516.35" width="148.07" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="I3quexlsJqC9GEj5_S_n-120" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="1319" y="-620" width="900" height="2460" as="geometry"/>
                </mxCell>
                <mxCell id="I3quexlsJqC9GEj5_S_n-121" value="microservice-swagger.js" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="1354" y="-650" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="I3quexlsJqC9GEj5_S_n-122" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="1329" y="-647.4000000000001" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="I3quexlsJqC9GEj5_S_n-123" value="&lt;div style=&quot;line-height: 19px; white-space-collapse: preserve; font-size: 14px; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(61, 121, 171));&quot;&gt;const &amp;nbsp; &lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(7, 105, 158));&quot;&gt;websocketDocumentationOpts&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt; =&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;{&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(199, 146, 234); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); color: rgb(199, 146, 234);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(7, 105, 158));&quot;&gt;schema:&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(199, 146, 234); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); color: rgb(199, 146, 234);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;{&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(7, 105, 158));&quot;&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(7, 105, 158));&quot;&gt;summary&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;:&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(217, 245, 221), rgb(62, 62, 62));&quot;&gt;&#39;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(236, 196, 141);&quot;&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(236, 196, 141), rgb(145, 93, 71));&quot;&gt;WebSocket documentation&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(217, 245, 221), rgb(62, 62, 62));&quot;&gt;&#39;&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(7, 105, 158));&quot;&gt; description: &lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;`&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;Connection URL: ws://BASE_URL/mixcroservice/ws&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;**Authentication:**&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;The connection will be rejected (closed with code 1008) if JWT isn&#39;t provided in httponly cookie.&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;---&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;**CLIENT  SERVER EVENTS**&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;- **ping**&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;\`\`\`json&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;{&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; &quot;event&quot;: &quot;ping&quot;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; &quot;data&quot;: {}&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;}&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;Reponse:&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;{&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; &quot;event&quot;: &quot;pong&quot;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; &quot;data&quot;: {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; &amp;nbsp; &quot;timestamp&quot;: 1625247600000&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; }&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;}&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;\`\`\`&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;---&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;**SERVER  CLIENT EVENTS**&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;- **friend.online** - Sent when one of your friends comes online.&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;\`\`\`json&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;{&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; &quot;event&quot;: &quot;friend.online&quot;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; &quot;data&quot;: {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; &amp;nbsp; &quot;userId&quot;: &quot;123&quot;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; }&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;}&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;\`\`\`&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;- **friend.offline** - Sent when one of your friends goes offline.&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;\`\`\`json&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;{&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; &quot;event&quot;: &quot;friend.offline&quot;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; &quot;data&quot;: {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; &amp;nbsp; &quot;userId&quot;: &quot;123&quot;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; }&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;}&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;\`\`\`&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;---&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;**ERROR HANDLING**&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;- Invalid API Key: Connection closed with code 1008&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;- Network Error: Standard WebSocket error events&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;`&lt;/font&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(7, 105, 158));&quot;&gt; tags:&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(62, 62, 62));&quot;&gt; [&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&#39;Websocket&#39;&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(62, 62, 62));&quot;&gt;, &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&#39;...&#39;&lt;/font&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;]&lt;/font&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;};&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(214, 222, 235), rgb(40, 47, 58)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;/**&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp;* Swagger documentation setup for Users Service&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp;* Provides JSON spec only - UI is handled by the gateway aggregator&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp;*/&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;function&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;setupSwagger&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;fastify&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;{&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Setup Swagger documentation&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;fastify&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;register&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;import&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;@fastify/swagger&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;),&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;swagger&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;info&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;title&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Service API&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;description&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Microservice API&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;version&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;1.0.0&#39;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; },&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;host&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`localhost:&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;process&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;env&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;PORT&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;schemes&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt; [&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;http&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;],&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;consumes&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt; [&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;application/json&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;],&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;produces&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt; [&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;application/json&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;],&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;  &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;securityDefinitions&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;internalApiKey&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;apiKey&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;x-internal-api-key&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;in&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;header&#39;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; },&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;cookieAuth&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(91, 131, 73);&quot;&gt;// Needed because the routes include the security header for cookies &lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;     &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;type&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;apiKey&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;JWT tokens&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;in&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;cookie&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(206, 145, 120), rgb(145, 93, 71));&quot;&gt;&#39;&lt;/span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; });&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &amp;nbsp; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;docsRouteOptions&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;schema&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;{&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;  &lt;/font&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(91, 131, 73));&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(106, 153, 85));&quot;&gt;// Shown in swagger UI&lt;/font&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;summary&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39; Internal (used by swagger aggregator)&#39;&lt;/span&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Manually register the JSON endpoint since we&#39;re not using swagger-ui&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;fastify&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;get&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;/docs/json&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;docsRouteOptions&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;request&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;reply&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;)&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;fastify&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;swagger&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;()&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; });&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(0, 255, 128));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(99, 119, 119);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(91, 131, 73));&quot;&gt;// WebSocket documentation endpoint (for Swagger only - doesn&#39;t actually work as HTTP GET)&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(127, 219, 202);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;fastify&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;get&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(236, 196, 141), rgb(145, 93, 71));&quot;&gt;/ws/docs&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(95, 126, 151), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt; &lt;/font&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(215, 219, 224), rgb(12, 67, 96));&quot;&gt;websocketDocumentationOpts&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(95, 126, 151), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;async&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;(&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(215, 219, 224), rgb(12, 67, 96));&quot;&gt;request&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;, &lt;/font&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(215, 219, 224), rgb(12, 67, 96));&quot;&gt;reply&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;)&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(40, 47, 58)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;return&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;reply&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(130, 170, 255);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;code&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(247, 140, 108);&quot;&gt;501&lt;/span&gt;&lt;font style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;)&lt;/font&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;.&lt;/span&gt;&lt;/font&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;send&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(62, 62, 62));&quot;&gt;({&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(236, 196, 141), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; message: &lt;/font&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(236, 196, 141);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(236, 196, 141), rgb(145, 93, 71));&quot;&gt;This endpoint is for documentation only. Use WebSocket protocol to connect to /ws&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(217, 245, 221);&quot;&gt;&#39;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; });&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; });&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;log&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;` Users Service Swagger JSON spec available at http://localhost:&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;process&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;env&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;PORT&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;/docs/json`&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;}&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="1329" y="-618.3500000000001" width="900" height="2460" as="geometry"/>
                </mxCell>
                <mxCell id="I3quexlsJqC9GEj5_S_n-124" value="" style="endArrow=classic;html=1;rounded=0;fontColor=none;noLabel=1;strokeColor=light-dark(#000000,#5B8349);edgeStyle=orthogonalEdgeStyle;curved=1;labelBackgroundColor=none;entryX=0.003;entryY=0.561;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="I3quexlsJqC9GEj5_S_n-123" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="750" y="391"/>
                            <mxPoint x="750" y="400"/>
                            <mxPoint x="1070" y="400"/>
                            <mxPoint x="1070" y="760"/>
                            <mxPoint x="1250" y="760"/>
                            <mxPoint x="1250" y="762"/>
                        </Array>
                        <mxPoint x="613" y="391" as="sourcePoint"/>
                        <mxPoint x="1250" y="770" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="YTI0zzdwXs6oWCSw-go4-118" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(91, 131, 73));&quot;&gt;The routes MUST be loaded before the swagger&lt;/font&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="770" y="330" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="IayRfUiCTbSl9hzMkEhv-120" value="microservice&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;.js&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="394.28" y="-210" width="120" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="IayRfUiCTbSl9hzMkEhv-122" value="&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(91, 131, 73));&quot;&gt;In the schema you can add this tags to make swagger docs more readable:&lt;br&gt;dummary&lt;/font&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(91, 131, 73));&quot;&gt;description&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(156, 220, 254), rgb(91, 131, 73));&quot;&gt;tags&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="880" y="2950" width="230" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="IayRfUiCTbSl9hzMkEhv-123" value="" style="html=1;verticalLabelPosition=bottom;align=center;labelBackgroundColor=none;verticalAlign=top;strokeWidth=2;strokeColor=#0080F0;shadow=0;dashed=0;shape=mxgraph.ios7.icons.data;aspect=fixed;" parent="1" vertex="1">
                    <mxGeometry x="127.54" y="639.13" width="19.59" height="23.75" as="geometry"/>
                </mxCell>
                <mxCell id="IayRfUiCTbSl9hzMkEhv-124" value="schema.sql" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="153.3" y="636" width="148.07" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="IayRfUiCTbSl9hzMkEhv-126" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-1490" y="220.54999999999995" width="800" height="600" as="geometry"/>
                </mxCell>
                <mxCell id="IayRfUiCTbSl9hzMkEhv-127" value="schema.sql" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-1444.2800000000002" y="188.83999999999992" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="IayRfUiCTbSl9hzMkEhv-129" value="" style="html=1;verticalLabelPosition=bottom;align=center;labelBackgroundColor=none;verticalAlign=top;strokeWidth=2;strokeColor=#0080F0;shadow=0;dashed=0;shape=mxgraph.ios7.icons.data;aspect=fixed;" parent="1" vertex="1">
                    <mxGeometry x="-1470" y="188.2499999999999" width="25.72" height="31.18" as="geometry"/>
                </mxCell>
                <mxCell id="120" value="&lt;div style=&quot;line-height: 19px; white-space-collapse: preserve; font-size: 14px; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;sqlite3&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;sqlite3&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;v4&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;as&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;uuidv4&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;uuid&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;promisify&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;util&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;mkdir&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;readFile&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;fs/promises&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; {&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;formatDate&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;} &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;./microservice-help.js&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;fileURLToPath&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;url&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;MicroserviceDatabase&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;constructor&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;dbPath&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;./data/microservice.db&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;dbPath&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;dbPath&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;initialize&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&lt;font style=&quot;color: rgb(204, 204, 204);&quot;&gt;{&lt;/font&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Create data directory if it doesn&#39;t exist&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;dir&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;dirname&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;dbPath&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;mkdir&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;dir&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;recursive&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; });&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Open database connection&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;sqlite3&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Database&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;dbPath&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Promisify database methods for easier async/await usage&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(153, 128, 0);&quot;&gt;run&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(153, 128, 0));&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;promisify&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;run&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;).&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;bind&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(153, 128, 0);&quot;&gt;get&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;promisify&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;get&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;).&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;bind&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(153, 128, 0);&quot;&gt;all&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;promisify&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;all&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;).&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;bind&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;#createTables&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;log&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot; MICROSERVICE Database connected: &quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;dbPath&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;error&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot; MICROSERVICE Database initialization error:&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Private method (#) to create tables&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(153, 128, 0));&quot;&gt;#&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(153, 128, 0));&quot;&gt;createTables&lt;/font&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Get the directory name of the current module&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;__filename&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;fileURLToPath&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;meta&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;url&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;__dirname&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;dirname&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;__filename&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;schemaPath&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;path&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;join&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;__dirname&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;schema.sql&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Read the SQL schema file&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;schema&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;readFile&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;schemaPath&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;utf8&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Split the schema into individual statements and execute them&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;statements&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;schema&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;split&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;map&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;stmt&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;stmt&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;trim&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;())&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; .&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;filter&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;stmt&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;stmt&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;length&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;for&lt;/span&gt; (&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;statement&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;of&lt;/span&gt; &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;statements&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;try&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;await&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;run&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;statement&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Silently ignore errors if tables already exist&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;if&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;message&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;includes&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;SQLITE_MISUSE&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;)&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;||&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;message&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;includes&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;already exists&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;||&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;message&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;includes&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;UNIQUE constraint failed&#39;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;))&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(206, 146, 164);&quot;&gt;continue&lt;/span&gt;;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;log&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;[USERS] Table creation info:&quot;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;message&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;);&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;error&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot; Error creating tables for MICROSERVICE_db:&quot;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;throw&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;error&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt;#&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;generateUUID&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;uuidv4&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(153, 128, 0));&quot;&gt;#close&lt;/font&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;close&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;();&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Return the created user object&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;createUser&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;username&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;password&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;email&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;#generateUUID&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;()&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;run&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;INSERT INTO users (id, username, password, email) VALUES (?, ?, ?, ?)&quot;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;[&lt;/font&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;username&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;toLowerCase&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;()&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;password&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;email&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;toLowerCase&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;()&lt;/span&gt;&lt;span style=&quot;color: rgb(192, 192, 192);&quot;&gt;]);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;get&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;SELECT * FROM users WHERE id = ?&quot;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;, [&lt;/font&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;]));&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/font&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// expiresAt: Date object&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;insertRefreshToken&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;token&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;,&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;expiresAt&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;)&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;{&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;uuidv4&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;();&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Convert Date object to SQLite datetime format: &#39;YYYY-MM-DD HH:MM:SS&#39; (ISO FORMAT)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;expiresAtStr&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;formatDate&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;expiresAt&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;)&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(62, 62, 62));&quot;&gt;;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;db&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;.&lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;run&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;(&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;INSERT INTO tokens (id, user_id, tokens , expires_at) VALUES (?, ?, ?, ?)&quot;&lt;/span&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; [&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;, &lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;token&lt;/span&gt;, &lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;expiresAtStr&lt;/span&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt; (&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;id&lt;/span&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-1486" y="880" width="820" height="2580" as="geometry"/>
                </mxCell>
                <mxCell id="121" value="&lt;div style=&quot;color: rgb(204, 204, 204); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space-collapse: preserve;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-542.02" y="2687.7" width="20" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="oQiL996CKDRiutNrGegI-121" value="" style="curved=1;endArrow=classic;html=1;rounded=0;strokeColor=light-dark(#000000,#6A9955);edgeStyle=orthogonalEdgeStyle;labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="-670" y="1011"/>
                            <mxPoint x="-670" y="2691"/>
                        </Array>
                        <mxPoint x="-1091" y="1012" as="sourcePoint"/>
                        <mxPoint x="-539" y="2691" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="oQiL996CKDRiutNrGegI-124" value="&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;Parameterized Queries are PRIMARY DEFENSE&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;span style=&quot;font-weight: bold;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;against SQL INJECTION&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;User input never gets concatenated into SQL strings&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;Database driver handles escaping automatically&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;Malicious SQL code is treated as data, not commands&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-1126" y="3040" width="395" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="122" value="" style="endArrow=classic;html=1;strokeColor=light-dark(#000000,#6F9260);labelBackgroundColor=none;edgeStyle=orthogonalEdgeStyle;curved=1;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="-816" y="3035"/>
                            <mxPoint x="-763" y="3035"/>
                        </Array>
                        <mxPoint x="-816" y="3037" as="sourcePoint"/>
                        <mxPoint x="-763" y="2980" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="123" value="" style="endArrow=classic;html=1;strokeColor=light-dark(#000000,#6F9260);edgeStyle=orthogonalEdgeStyle;curved=1;labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="-875" y="3042"/>
                            <mxPoint x="-875" y="3016"/>
                            <mxPoint x="-876" y="3016"/>
                        </Array>
                        <mxPoint x="-874.5" y="3046" as="sourcePoint"/>
                        <mxPoint x="-876" y="3000" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="iWMYFCt5NL9epGHb7WgQ-123" value="&lt;div style=&quot;line-height: 19px; white-space: pre; font-size: 14px;&quot;&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(61, 121, 171));&quot;&gt;PRAGMA &lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(255, 255, 255));&quot;&gt;foreign_keys &lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;ON&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;TABLE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt; &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(225, 213, 231), rgb(225, 213, 231));&quot;&gt;&lt;span&gt;users&lt;/span&gt; &lt;/font&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; id &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;INTEGER&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;PRIMARY KEY&lt;/span&gt;, &amp;nbsp; &amp;nbsp;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;-- Unique ID for each user&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;name&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;TEXT&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;NOT NULL&lt;/span&gt;, &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;-- Required field&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; email &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;TEXT&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;UNIQUE&lt;/span&gt;, &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;-- Must be unique&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; age &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;INTEGER&lt;/span&gt;, &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;-- Optional number&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(255, 255, 255));&quot;&gt;created_at&lt;/font&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;DATETIME&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;NOT NULL&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;DEFAULT&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(255, 255, 255));&quot;&gt;CURRENT_TIMESTAMP&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235);&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: rgb(192, 192, 192); background-color: transparent;&quot;&gt; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85); background-color: transparent;&quot;&gt;-- Auto timestamp&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;role&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;TEXT&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;DEFAULT&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;user&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;CHECK&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;role&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;IN&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;admin&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;user&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;moderator&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)),&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt; );&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;CREATE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;TABLE&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt; &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(225, 213, 231), rgb(225, 213, 231));&quot;&gt;&lt;span&gt;posts&lt;/span&gt; &lt;/font&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; id &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;INTEGER&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;PRIMARY KEY&lt;/span&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; title &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;TEXT&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;NOT NULL&lt;/span&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; content &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;TEXT&lt;/span&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; user_id &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;INTEGER&lt;/span&gt;, &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;-- Links to users table&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(255, 255, 255)); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;created_at&lt;/font&gt;&lt;span style=&quot;scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;&lt;font&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(127, 81, 157));&quot;&gt; D&lt;/font&gt;&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(127, 81, 157));&quot;&gt;ATETIME NOT NULL DEFAULT&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(214, 222, 235); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;CURRENT_TIMESTAMP&lt;/span&gt;&lt;span style=&quot;color: rgb(214, 222, 235); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30);&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: rgb(192, 192, 192); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); background-color: transparent;&quot;&gt; &lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;FOREIGN KEY&lt;/span&gt; (user_id) &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;REFERENCES&lt;/span&gt; users(id) &amp;nbsp;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;-- Connection constraints&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;ON DELETE CASCADE &lt;/span&gt;&lt;span style=&quot;color: rgb(91, 131, 73);&quot;&gt;-- Delete posts when user is deleted&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;CREATE&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(225, 213, 231), rgb(225, 213, 231));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;TABLE&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(225, 213, 231), rgb(225, 213, 231));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;IF&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(225, 213, 231), rgb(225, 213, 231));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;NOT&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(225, 213, 231), rgb(225, 213, 231));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;EXISTS&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(225, 213, 231), rgb(225, 213, 231));&quot;&gt; products &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; id &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;INTEGER&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;PRIMARY KEY&lt;/span&gt; AUTOINCREMENT, &lt;span style=&quot;color: rgb(91, 131, 73);&quot;&gt;-- The primary can be self incremented without need&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(106, 153, 85));&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;name&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(106, 153, 85));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;TEXT&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(106, 153, 85));&quot;&gt; &lt;/font&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;NOT NULL&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(106, 153, 85));&quot;&gt;,&lt;/font&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62)); white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(106, 153, 85));&quot;&gt;to manually handle it&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;span&gt;stock_quantity &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;INTEGER&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;DEFAULT&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(181, 206, 168);&quot;&gt;0&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;    price &lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: rgb(86, 156, 214);&quot;&gt;DECIMAL&lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: rgb(181, 206, 168);&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: rgb(181, 206, 168);&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: rgb(86, 156, 214);&quot;&gt;CHECK&lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt; (price &lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: rgb(212, 212, 212);&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: rgb(181, 206, 168);&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;), &lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; created_at &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;TEXT&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;DEFAULT&lt;/span&gt; (&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;datetime&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;now&#39;&lt;/span&gt;)),&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; updated_at &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;TEXT&lt;/span&gt; &lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;DEFAULT&lt;/span&gt; (&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;datetime&lt;/span&gt;(&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;now&#39;&lt;/span&gt;)),&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;font style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: light-dark(rgb(204, 204, 204), rgb(225, 213, 231));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-1481" y="216.54999999999995" width="780" height="631.3" as="geometry"/>
                </mxCell>
                <mxCell id="iWMYFCt5NL9epGHb7WgQ-125" value="" style="endArrow=none;html=1;rounded=0;fontColor=light-dark(#000000,#6A9955);strokeColor=light-dark(#000000,#6A9955);labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="-1260" y="396.54999999999995" as="sourcePoint"/>
                        <mxPoint x="-1214" y="396.54999999999995" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="iWMYFCt5NL9epGHb7WgQ-126" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(106, 153, 85));&quot;&gt;Must contain a boolean expression&lt;/font&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-1290" y="406.54999999999995" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="124" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96)); font-size: 14px;&quot;&gt;A way to protect database from SQL injection should&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96)); font-size: 14px;&quot;&gt;be sanitize the input properties&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-1186" y="1220" width="350" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="125" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;All normalizations as email and username&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(111, 146, 96));&quot;&gt;are done in the database class&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-1046" y="2855" width="250" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="126" value="" style="endArrow=classic;html=1;strokeColor=light-dark(#000000,#6F9260);labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="-1002" y="2895" as="sourcePoint"/>
                        <mxPoint x="-1026" y="2962" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="127" value="&lt;span style=&quot;forced-color-adjust: none; scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; box-shadow: none !important; color: rgb(106, 153, 85);&quot;&gt;&lt;font color=&quot;#6f9260&quot;&gt;--&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;forced-color-adjust: none; color: rgb(106, 153, 85); scrollbar-color: rgb(75, 75, 75) rgb(27, 29, 30); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; white-space: pre; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; box-shadow: none !important;&quot;&gt;ENUM-like constraint&lt;/span&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-1020" y="396.54999999999995" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="t2uz2f2mHJ1-42mGiHmz-127" value="&lt;font&gt;All file names must be in &quot;kebab-case&quot; format&lt;/font&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="23.990000000000016" y="-15.000000000000007" width="270" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="128" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(106, 153, 85));&quot;&gt;-- Max digits (99999999.99 8 digits before decimal + 2 after =&amp;nbsp;10 total)&lt;/font&gt;" style="text;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=default;html=1;" parent="1" vertex="1">
                    <mxGeometry x="-1153" y="719.55" width="390" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="131" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(106, 153, 85));&quot;&gt;Used to convert all dates created in js in the same format used in db&amp;nbsp;&lt;br&gt;SqLite DATE TIME :&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2025-12-18 23:49:19&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;(UTC)&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(106, 153, 85));&quot;&gt;Javascript&amp;nbsp; DATE TIME :&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;2025-12-25T23:51:01.512Z&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;(Explicit UTS)&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-170" y="2780" width="390" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Or3n-E9IAIty0n21Rznx-131" value="" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=center;shape=mxgraph.office.concepts.folder;aspect=fixed;" parent="1" vertex="1">
                    <mxGeometry x="122.21000000000001" y="196" width="20" height="18" as="geometry"/>
                </mxCell>
                <mxCell id="Or3n-E9IAIty0n21Rznx-132" value="static data route (avatars)" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="147.13" y="190" width="162.87" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="Or3n-E9IAIty0n21Rznx-137" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="124.88000000000001" y="597.9499999999998" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="Or3n-E9IAIty0n21Rznx-138" value="microservice-...&amp;nbsp;&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(192, 192, 192), rgb(255, 255, 255));&quot;&gt;.js&lt;/font&gt;&lt;/span&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="150.92000000000002" y="596" width="148.07" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="Or3n-E9IAIty0n21Rznx-139" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="125.19" y="557.5999999999999" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="Or3n-E9IAIty0n21Rznx-140" value="microservice-ws-handler&lt;span style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(192, 192, 192), rgb(255, 255, 255));&quot;&gt;.js&lt;/font&gt;&lt;/span&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="151.4" y="556" width="148.07" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="Or3n-E9IAIty0n21Rznx-142" value="" style="endArrow=none;html=1;exitX=0.179;exitY=0.186;exitDx=0;exitDy=0;exitPerimeter=0;labelBackgroundColor=none;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="54.5" y="41.3" as="sourcePoint"/>
                        <mxPoint x="54.5" y="780" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="Or3n-E9IAIty0n21Rznx-145" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(91, 131, 73)); font-size: 15px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;To connect to the websocket of a certain microservice, the client must do the connection upgrade request including JWT&lt;br&gt;&lt;br&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(91, 131, 73)); font-size: 15px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;To handle incoming messages, the client has to switch between events&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); color: rgb(127, 219, 202);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;ws&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;/span&gt;&lt;font&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); color: rgb(130, 170, 255);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;onmessage&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(153, 128, 0)); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt; &lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;=&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(214, 222, 235), rgb(40, 47, 58)); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(217, 245, 221), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(215, 219, 224), rgb(12, 67, 96));&quot;&gt;event&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(217, 245, 221), rgb(62, 62, 62));&quot;&gt;)&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(214, 222, 235), rgb(40, 47, 58)); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt; =&amp;gt; {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 15px; background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;try&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(62, 62, 62));&quot;&gt; {&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(214, 222, 235), rgb(40, 47, 58)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;   &lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;const &lt;/span&gt;&lt;span style=&quot;color: rgb(130, 170, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;message&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt; &lt;/span&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212)); color: rgb(199, 146, 234);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;=&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(199, 146, 234); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(130, 170, 255); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;JSON&lt;/span&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(153, 128, 0), rgb(153, 128, 0));&quot;&gt;parse&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(214, 222, 235), rgb(40, 47, 58)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;event&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;data&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(214, 222, 235), rgb(40, 47, 58)); background-color: light-dark(#ffffff, var(--ge-dark-color, #121212));&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;   switch&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span style=&quot;color: rgb(127, 219, 202);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;message&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;event&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(62, 62, 62));&quot;&gt;) {&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(214, 222, 235), rgb(145, 93, 71));&quot;&gt;&amp;nbsp; &amp;nbsp;   &lt;/font&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;case&lt;/span&gt;&lt;font&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt; &#39;friend.online&#39;&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(62, 62, 62));&quot;&gt;:&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;   &amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(130, 170, 255);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;handleFriendOnline&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;message&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;data&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(62, 62, 62));&quot;&gt;);&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(214, 222, 235), rgb(40, 47, 58));&quot;&gt;&amp;nbsp; &amp;nbsp;      &lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;&amp;nbsp; &amp;nbsp;   &lt;/font&gt;&lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;case&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt; &lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(145, 93, 71));&quot;&gt;&#39;friend.offline&#39;&lt;/font&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(62, 62, 62));&quot;&gt;:&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;   &amp;nbsp;&lt;/font&gt;&lt;span style=&quot;color: rgb(130, 170, 255);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(153, 128, 0));&quot;&gt;handleFriendOffline&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(62, 62, 62));&quot;&gt;(&lt;/font&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;message&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(199, 146, 234), rgb(62, 62, 62));&quot;&gt;.&lt;/font&gt;&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(127, 219, 202), rgb(12, 67, 96));&quot;&gt;data&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(130, 170, 255), rgb(62, 62, 62));&quot;&gt;);&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(214, 222, 235), rgb(40, 47, 58));&quot;&gt;&amp;nbsp; &amp;nbsp;      &lt;span style=&quot;color: rgb(199, 146, 234);&quot;&gt;break&lt;/span&gt;;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="1709" y="-320" width="490" height="280" as="geometry"/>
                </mxCell>
                <mxCell id="taMp6fmb45ewJCHZ2Lro-131" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="1319" y="1920" width="900" height="1400" as="geometry"/>
                </mxCell>
                <mxCell id="132" value="&lt;div style=&quot;line-height: 19px; white-space-collapse: preserve; font-size: 14px; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// The class is initialized in ConnectionManager.js&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;ConnectionManager&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;./ConnectionManager.js&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;handleNewConnection&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;key&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;headers&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;x-internal-api-key&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;];&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Validate the forwarded internal key matches our environment variable.&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;process&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;env&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;INTERNAL_API_KEY&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;||&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;key&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!==&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;process&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;env&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;INTERNAL_API_KEY&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;error&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;&#39;[&lt;/font&gt;&lt;span style=&quot;color: rgb(145, 93, 71);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;MICROSERVICE&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;] Missing or invalid internal API key on proxied websocket request&#39;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;write&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;HTTP/1.1 401 Unauthorized&lt;/span&gt;&lt;span style=&quot;color: rgb(215, 186, 125);&quot;&gt;\r\n\r\n&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;); } &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;e&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) {}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;destroy&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(); } &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;e&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) {}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;headers&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;x-user-id&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;];&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;error&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;&#39;[&lt;/font&gt;&lt;span style=&quot;color: rgb(145, 93, 71);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;MICROSERVICE&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;] No authenticated user found for websocket connection&#39;&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;write&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;HTTP/1.1 401 Unauthorized&lt;/span&gt;&lt;span style=&quot;color: rgb(215, 186, 125);&quot;&gt;\r\n\r\n&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;); } &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;e&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) {}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;destroy&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(); } &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;e&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;) {}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ConnectionManager&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;addConnection&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(79, 193, 255), rgb(12, 67, 96));&quot;&gt;userId&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;handleMessage&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;msg&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;message&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;JSON&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;parse&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;msg&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;toString&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;());&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;log&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[MICROSERVICE] Message from user: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt; : `&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;message&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;div style=&quot;line-height: 19px; white-space-collapse: preserve; font-size: 14px; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;        &lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(106, 153, 85));&quot;&gt;// Switch between events sent by client&lt;br&gt;&lt;/font&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;switch&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;message&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;event&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;case&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;ping&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Handle ping event&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;send&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;JSON&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;stringify&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;({ &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;event&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;pong&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;data&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;timestamp&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Date&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;now&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;() } }));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;break&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;default&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;:&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;log&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[MICROSERVICE] Unknown event type: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;message&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;event&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;error&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[NOTIFICATION] Error processing message from user &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;message&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;send&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;JSON&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;stringify&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;({&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;event&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;error&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;data&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;message&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;Invalid message format&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; }&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;handleClose&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;log&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;`[&lt;/font&gt;&lt;span style=&quot;color: rgb(145, 93, 71);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;MICROSERVICE&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;] WebSocket connection closed - User: &lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ConnectionManager&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;removeConnection&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;function&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;handleError&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;error&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;`[&lt;/font&gt;&lt;span style=&quot;color: rgb(145, 93, 71);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;MICROSERVICE&lt;/font&gt;&lt;/span&gt;&lt;font style=&quot;color: light-dark(rgb(145, 93, 71), rgb(145, 93, 71));&quot;&gt;] WebSocket error for user &lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;: &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;err&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;message&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Remove the connection as it&#39;s likely broken&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;ConnectionManager&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;removeConnection&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
                    <mxGeometry x="1329" y="1917" width="830" height="1400" as="geometry"/>
                </mxCell>
                <mxCell id="133" value="" style="endArrow=classic;html=1;strokeColor=light-dark(#000000,#6A9955);entryX=0;entryY=0.999;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" target="132">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="940" y="3930" as="sourcePoint"/>
                        <mxPoint x="1270" y="3320" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="135" value="" style="endArrow=none;html=1;endFill=0;strokeColor=light-dark(#000000,#6A9955);" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="684" y="3733" as="sourcePoint"/>
                        <mxPoint x="1270" y="3410" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="136" value="microservice-ws-handlers.js" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;labelBackgroundColor=none;" vertex="1" parent="1">
                    <mxGeometry x="1354" y="1891.3" width="210" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="137" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" vertex="1" parent="1">
                    <mxGeometry x="1329" y="1892.6" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="140" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;labelBackgroundColor=none;" vertex="1" parent="1">
                    <mxGeometry x="1319" y="3410" width="900" height="1560" as="geometry"/>
                </mxCell>
                <mxCell id="141" value="...ConnectionManager.js" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;labelBackgroundColor=none;" vertex="1" parent="1">
                    <mxGeometry x="1364" y="3380" width="190" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="142" value="" style="points=[];aspect=fixed;html=1;align=center;shadow=0;dashed=0;fillColor=#FF6A00;strokeColor=none;shape=mxgraph.alibaba_cloud.nodejs_performance_platform;labelBackgroundColor=none;" vertex="1" parent="1">
                    <mxGeometry x="1329" y="3381.3" width="24.28" height="27.4" as="geometry"/>
                </mxCell>
                <mxCell id="143" value="&lt;div style=&quot;line-height: 19px; white-space-collapse: preserve; font-size: 14px; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;getFriendsList&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; } &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;./microservice-help.js&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Dot-notation (most common &amp;amp; scalable)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// domain.action&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;&lt;font style=&quot;color: rgb(78, 201, 176);&quot;&gt;...ConnectionManager&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;constructor&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;_connections&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Map&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(); &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// userId -&amp;gt; WebSocket&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;addConnection&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;_connections&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;set&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;onlineFriends&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;getFriendsList&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, [&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;_connections&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;keys&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;()]);&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Then notify other connected users that this user is now online&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;#dispatchEventToFriends&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;friend.online&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; }, &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;onlineFriends&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;async&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;removeConnection&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;_connections&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;delete&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;onlineFriends&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;await&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;getFriendsList&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, [&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;_connections&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;keys&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;()]);&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Notify other connected users that this user is now offline&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;#dispatchEventToFriends&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;friend.offline&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; }, &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;onlineFriends&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;getConnection&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;_connections&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;get&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;count&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;()&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;_connections&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;size&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;sendFriendRequestNotification&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;targetUserId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;requesterUsername&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;requesterId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;targetSocket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;getConnection&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;targetUserId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;targetSocket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;#dispatchEventToSocket&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;targetSocket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39;friend.request&#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; { &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;requesterUsername&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;requesterId&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;requesterId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; }&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; );&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt;#dispatchEventToFriends &lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;senderUserId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;event&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;data&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;onlineFriends&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;frined&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;of&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;onlineFriends&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(106, 153, 85);&quot;&gt;// Except send to self&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;frined&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;!==&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;senderUserId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;#dispatchEventToSocket&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;getConnection&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;frined&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;), &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;event&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;data&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;log&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[MICROSERVICE] Dispatching event &#39;&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;event&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&#39; from user &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;senderUserId&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt; to friends`&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;font&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(204, 204, 204), rgb(153, 128, 0));&quot;&gt;#&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;dispatchEventToSocket&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;event&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;data&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;try&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;socket&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;send&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;JSON&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;stringify&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;({ &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;event&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;data&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; }));&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;catch&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;e&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(153, 128, 0));&quot;&gt;error&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;`[MICROSERVICE] Failed to send &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;${&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;event&lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;:`&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;e&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;message&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;);&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(204, 204, 204), rgb(62, 62, 62));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;export&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;const&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &amp;nbsp; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(79, 193, 255);&quot;&gt;...ConnectionManager&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(86, 156, 214);&quot;&gt;new&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(220, 220, 170), rgb(6, 112, 90));&quot;&gt;...ConnectionManager&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;();&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
                    <mxGeometry x="1329" y="3410" width="820" height="1550" as="geometry"/>
                </mxCell>
                <mxCell id="144" value="" style="endArrow=classic;html=1;edgeStyle=orthogonalEdgeStyle;curved=1;strokeColor=light-dark(#000000,#6F9260);labelBackgroundColor=none;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="689" y="310"/>
                            <mxPoint x="1170" y="310"/>
                            <mxPoint x="1170" y="560"/>
                            <mxPoint x="1190" y="560"/>
                            <mxPoint x="1190" y="3779"/>
                        </Array>
                        <mxPoint x="689" y="315" as="sourcePoint"/>
                        <mxPoint x="833" y="3779" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="145" value="&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(91, 131, 73));&quot;&gt;Class that handle the connections to websocket&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(91, 131, 73));&quot;&gt;Send the messages from server to clients&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(91, 131, 73));&quot;&gt;Map the userIds and the relative websocket&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;color: light-dark(rgb(0, 0, 0), rgb(91, 131, 73));&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#5b8349&quot;&gt;This class can be used both by event hanlderd&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font color=&quot;#5b8349&quot;&gt;and by controllers&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=15;" vertex="1" parent="1">
                    <mxGeometry x="1840" y="3460" width="340" height="120" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>