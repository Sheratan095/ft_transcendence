<!DOCTYPE html>

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>ft_transcendence</title>
	<link rel="icon" type="image/png" href="/42_Logo.svg" />
	<link href="./tailwind.css" rel="stylesheet" />
	<script type="module" src="./src/main.ts"></script>
	<style>
		/* Fix for chat modal visibility - ensure flex takes precedence over hidden */
		#chat-modal:not(.hidden) {
			display: flex !important;
			visibility: visible !important;
		}

		#friend-selection-modal:not(.hidden) {
			display: flex !important;
			visibility: visible !important;
		}

		/* Ensure body doesn't hide modals */
		body {
			overflow: visible !important;
		}

		/* 2FA Lock SVG Animations */
		@keyframes lockShackleOpen {
			0% { transform: translateY(0px); }
			100% { transform: translateY(0px); }
		}

		/* @keyframes keyholePulse {
			0%, 100% { opacity: 1; }
			50% { opacity: 0.5; }
		} */

		/* Default: shackle sits a bit lower when closed. Use SVG-specific transform-box/origin so
		   the shackle moves cleanly without detaching from the body. */
		.btn-lock svg path.lock {
			transform-box: fill-box;
			transform-origin: 50% 10%;
			will-change: transform;
			transform: translateY(0px);
			transition: transform 220ms cubic-bezier(0.22, 1, 0.36, 1);
		}

		.btn-lock svg path.lockb {
			will-change: opacity;
			transition: opacity 200ms ease;
		}

		/* Open animation (checked) */
		#input-lock:checked ~ label svg path.lock {
			animation: lockShackleOpen 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
		}

		#input-lock:checked ~ label svg path.lockb {
			animation: keyholePulse 0.6s ease-in-out forwards;
		}

		/* Ensure closed state snaps back to the slightly-lowered position */
		#input-lock:not(:checked) ~ label svg path.lock {
			animation: none !important;
			transform: translateY(0px) !important;
			opacity: 1;
		}

		#input-lock:not(:checked) ~ label svg path.lockb {
			animation: none !important;
			opacity: 1;
		}

		/* In dark mode, make the closed lock visually black (only SVG paths) */
		#input-lock:checked ~ label svg path.lock {
			stroke: #000000 !important;
			fill: none !important;
		}

		#input-lock:checked ~ label svg path.lockb {
			fill: #000000 !important;
			stroke: none !important;
		}
	</style>
</head>
<html lang="en"
 class="dark overflow-hidden selection:bg-accent-orange
  dark:selection:bg-accent-pink selection:text-black dark:selection:text-white">

<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100">
	<div id="container-grid"
		class="relative h-max flex flex-col items-center justify-center overflow-hidden bg-white dark:bg-black">
		<div id="main-grid" class="fixed inset-0 bg-[length:40px_40px] pointer-events-none z-20
		bg-[linear-gradient(to_right,#f2f2f2_1px,transparent_1px),linear-gradient(to_bottom,#d9d9d9_1px,transparent_1px)]
		dark:bg-[linear-gradient(to_right,#262626_1px,transparent_1px),linear-gradient(to_bottom,#262626_1px,transparent_1px)]
		opacity-60 mix-blend-darken dark:mix-blend-lighten [mask-image:linear-gradient(transparent_10%,black)]"></div>
		<div class="fixed inset-0 h-full w-full z-10 mix-blend-difference
		bg-accent-orange dark:bg-accent-pink [clip-path:polygon(0_0,45%_0,25%_100%,0%_100%)]">
		</div>
	</div>

	<div class="shadow-[10px_10px_0_0] shadow-accent-orange dark:shadow-accent-green"> </div>
	<!-- Search bar, small user card and theme switch button-->
	<div id="top-bar"
		class="flex z-20 items-end justify-end p-2 space-x-4 text-black dark:text-white w-full shadow-md
			border-b-[2px] border-gray-800 dark:border-gray-300 hover:border-accent-blue dark:hover:border-accent-green transition-colors">
		<!-- User options -->
		<div id="user-options" title="Go to profile"
			class="flex z-30 w-[10vw] hidden items-center justify-center">
			<a href="/profile" class="flex">
				<img id="topbar-avatar"
					src="/assets/placeholder-avatar.jpg"
					alt="avatar"
					class="content-evenly w-10 h-10 border-neutral-800 dark:border-neutral-200 object-cover
					 rounded-xl bg-neutral-700 hover:bg-gray-900 border-2 transition-colors dark:bg-neutral-300 dark:hover:bg-neutral-100" />
			<p id="topbar-username" class="sm:block ms-2 text-xl font-bold justify-start px-4 underline underline-offset-auto 
			tracking-tight mb-2 hover:text-white hover:bg-black dark:hover:bg-white dark:hover:text-black">Username</p>
			</a>
		</div>

		<!-- Search form -->
		<form class="w-full px-[12vw] mx-auto z-30 hidden" id="search-user-form" title="search other users to play with">
			<div class="flex shadow-xs rounded-base -space-x-1">
				<input type="search" id="search-user-input"
					class="px-3 py-2.5 bg-gray-300 dark:bg-gray-800 rounded-l-xl border border-medium border-gray-900 dark:border-accent-green text-heading text-sm focus:ring-brand focus:border-brand block w-full placeholder:text-body"
					data-i18n-placeholder="search.placeholder" required>
				<button type="button"
					class="inline-flex items-center text-black font-bold bg-accent-orange dark:bg-accent-green rounded-r-xl bg-brand hover:bg-brand-strong border-l-0 box-border border border-gray-700 dark:border-accent-green focus:ring-4 focus:ring-brand-medium shadow-xs leading-5 rounded-e-base bx-10 text-sm px-4 py-2.5 focus:outline-none"
					>
					<svg class="w-4 h-4 me-1.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24"
						height="24" fill="none" viewBox="0 0 24 24">
						<path stroke="currentColor" stroke-linecap="round" stroke-width="2"
							d="m21 21-3.5-3.5M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z" />
					</svg>
					<h1 data-i18n="search.button">
					</h1>
				</button>
			</div> 
		</form>

		<!-- Tris page template -->
		<template id="tris-template">
			<div class="min-h-screen p-6 md:p-8">
				<!-- Header Card -->
				<div class="max-w-5xl mx-auto mb-8">
					<div class="bg-gradient-to-r dark:from-neutral-800 dark:to-neutral-900 from-neutral-100 to-neutral-50 rounded-xl border-4 dark:border-neutral-700 border-neutral-300 p-6 dark:shadow-[10px_10px_0_0_rgba(255,0,157,0.2)] shadow-[10px_10px_0_0_rgba(0,168,232,0.2)]">
						<div class="flex items-center justify-between">
							<div>
								<h1 class="text-4xl md:text-5xl font-extrabold uppercase tracking-tight dark:text-accent-pink text-accent-orange mb-2">Tris</h1>
								<p class="text-sm text-neutral-600 dark:text-neutral-400">Tic-Tac-Toe multiplayer game</p>
							</div>
							<div class="flex items-center gap-4 p-4 dark:bg-neutral-700/50 bg-neutral-200/50 rounded-lg">
								<div class="text-right text-sm">
									<!-- <div id="tris-username" class="font-bold">Username</div> -->
									<div id="tris-user-stats" class="flex flex-col items-end text-xs text-neutral-600 dark:text-neutral-400">
										<div id="tris-user-wins">Wins: 0</div>
										<div id="tris-user-losses">Losses: 0</div>
									</div>
								</div>
								<div id="tris-user-chart" class="w-14 h-14 flex items-center justify-center bg-transparent">
									<div id="tris-user-chart-inner" class="w-full h-full"></div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Content Grid -->
				<div class="max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6">
					<!-- Main Play Card -->
					<div class="md:col-span-2">
						<div class="bg-white/80 dark:bg-neutral-800/80 backdrop-blur-sm rounded-xl border-3 dark:border-neutral-700 border-neutral-300 overflow-hidden dark:shadow-lg shadow-md">
							<div class="bg-gradient-to-r dark:from-accent-pink/20 dark:to-accent-pink/10 from-accent-orange/20 to-accent-orange/10 p-6 border-b-2 dark:border-neutral-700 border-neutral-300">
								<h2 class="text-2xl font-extrabold uppercase tracking-tight dark:text-accent-pink text-accent-orange">Play Game</h2>
							</div>
							<div class="p-6 space-y-3">
								<button id="tris-play-online" class="w-full btn-primary">üéÆ Play Online (Matchmaking)</button>
								<button id="tris-play-offline-1v1" class="w-full btn-muted">üë• Offline 1v1 (Local)</button>
								<button id="tris-play-offline-ai" class="w-full btn-muted">ü§ñ Play vs AI</button>
								<div class="pt-3 border-t dark:border-neutral-700 border-neutral-300">
									<button id="tris-open-mode-modal" class="text-sm font-semibold text-accent-pink hover:text-accent-pink/80 transition">‚öôÔ∏è Open Mode Selector</button>
								</div>
							</div>
						</div>
					</div>

					<!-- Sidebar Quick Menu Card -->
					<aside>
						<div class="bg-white/80 dark:bg-neutral-800/80 backdrop-blur-sm rounded-xl border-3 dark:border-neutral-700 border-neutral-300 overflow-hidden dark:shadow-lg shadow-md h-full">
							<div class="bg-gradient-to-r dark:from-accent-green/20 dark:to-accent-green/10 from-accent-cyan/20 to-accent-cyan/10 p-6 border-b-2 dark:border-neutral-700 border-neutral-300">
								<h3 class="text-lg font-extrabold uppercase tracking-tight dark:text-accent-green text-accent-cyan">Quick Menu</h3>
							</div>
							<div class="p-6 space-y-3">
								<button id="tris-invite-friend" class="w-full text-left px-4 py-2 rounded-lg dark:bg-neutral-700/50 bg-neutral-100/50 hover:dark:bg-neutral-700 hover:bg-neutral-100 transition font-semibold text-sm">üëã Invite Friend</button>
								<button id="tris-view-lobby" class="w-full text-left px-4 py-2 rounded-lg dark:bg-neutral-700/50 bg-neutral-100/50 hover:dark:bg-neutral-700 hover:bg-neutral-100 transition font-semibold text-sm">üëÄ View Lobby</button>
								<button id="tris-reset-local" class="w-full text-left px-4 py-2 rounded-lg dark:bg-neutral-700/50 bg-neutral-100/50 hover:dark:bg-neutral-700 hover:bg-neutral-100 transition font-semibold text-sm">üîÑ Reset Game</button>
							</div>
						</div>
					</aside>
				</div>
			</div>
		</template>

		<!-- Pong page template -->
		<template id="pong-template">
			<div class="min-h-screen p-6 md:p-8">
				<!-- Header Card -->
				<div class="max-w-5xl mx-auto mb-8">
					<div class="bg-gradient-to-r dark:from-neutral-800 dark:to-neutral-900 from-neutral-100 to-neutral-50 rounded-xl border-4 dark:border-neutral-700 border-neutral-300 p-6 dark:shadow-[10px_10px_0_0_rgba(255,0,157,0.2)] shadow-[10px_10px_0_0_rgba(0,168,232,0.2)]">
						<div class="flex items-center justify-between">
							<div>
								<h1 class="text-4xl md:text-5xl font-extrabold uppercase tracking-tight dark:text-accent-green text-accent-cyan mb-2">Pong</h1>
								<p class="text-sm text-neutral-600 dark:text-neutral-400">Classic paddle game with multiplayer</p>
							</div>
							<div class="flex items-center gap-4 p-4 dark:bg-neutral-700/50 bg-neutral-200/50 rounded-lg">
								<div class="text-right text-sm">
									<div id="pong-user-stats" class="flex flex-col items-end text-xs text-neutral-600 dark:text-neutral-400">
										<div id="pong-user-wins">Wins: 0</div>
										<div id="pong-user-losses">Losses: 0</div>
									</div>
								</div>
								<div id="pong-user-chart" class="w-14 h-14 flex items-center justify-center bg-transparent">
									<div id="pong-user-chart-inner" class="w-full h-full"></div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Content Grid -->
				<div class="max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6">
					<!-- Main Play Card -->
					<div class="md:col-span-2">
						<div class="bg-white/80 dark:bg-neutral-800/80 backdrop-blur-sm rounded-xl border-3 dark:border-neutral-700 border-neutral-300 overflow-hidden dark:shadow-lg shadow-md">
							<div class="bg-gradient-to-r dark:from-accent-green/20 dark:to-accent-green/10 from-accent-cyan/20 to-accent-cyan/10 p-6 border-b-2 dark:border-neutral-700 border-neutral-300">
								<h2 class="text-2xl font-extrabold uppercase tracking-tight dark:text-accent-green text-accent-cyan">Play Game</h2>
							</div>
							<div class="p-6 space-y-3">
								<button id="pong-play-online" class="w-full btn-primary">üéÆ Play Online (Matchmaking)</button>
								<button id="pong-play-offline-1v1" class="w-full btn-muted">üë• Offline 1v1 (Local)</button>
								<button id="pong-play-offline-ai" class="w-full btn-muted">ü§ñ Play vs AI</button>
								<div class="pt-3 border-t dark:border-neutral-700 border-neutral-300">
									<button id="pong-open-mode-modal" class="text-sm font-semibold text-accent-green hover:text-accent-green/80 transition">‚öôÔ∏è Open Mode Selector</button>
								</div>
							</div>
						</div>
					</div>

					<!-- Sidebar Quick Menu Card -->
					<aside>
						<div class="bg-white/80 dark:bg-neutral-800/80 backdrop-blur-sm rounded-xl border-3 dark:border-neutral-700 border-neutral-300 overflow-hidden dark:shadow-lg shadow-md h-full">
							<div class="bg-gradient-to-r dark:from-accent-pink/20 dark:to-accent-pink/10 from-accent-orange/20 to-accent-orange/10 p-6 border-b-2 dark:border-neutral-700 border-neutral-300">
								<h3 class="text-lg font-extrabold uppercase tracking-tight dark:text-accent-pink text-accent-orange">Quick Menu</h3>
							</div>
							<div class="p-6 space-y-3">
								<button id="pong-invite-friend" class="w-full text-left px-4 py-2 rounded-lg dark:bg-neutral-700/50 bg-neutral-100/50 hover:dark:bg-neutral-700 hover:bg-neutral-100 transition font-semibold text-sm">üëã Invite Friend</button>
								<button id="pong-view-lobby" class="w-full text-left px-4 py-2 rounded-lg dark:bg-neutral-700/50 bg-neutral-100/50 hover:dark:bg-neutral-700 hover:bg-neutral-100 transition font-semibold text-sm">üëÄ View Lobby</button>
								<button id="pong-tournaments-btn" class="w-full text-left px-4 py-2 rounded-lg dark:bg-neutral-700/50 bg-neutral-100/50 hover:dark:bg-neutral-700 hover:bg-neutral-100 transition font-semibold text-sm">üèÜ Tournaments</button>
								<button id="pong-reset-local" class="w-full text-left px-4 py-2 rounded-lg dark:bg-neutral-700/50 bg-neutral-100/50 hover:dark:bg-neutral-700 hover:bg-neutral-100 transition font-semibold text-sm">üîÑ Reset Game</button>
							</div>
						</div>
					</aside>
				</div>
			</div>
		</template>

		<!-- Language selector styled like theme button -->
		<select id="profile-language" aria-label="Select language" title="Select language"
			class="relative z-30 pointer-events-auto cursor-pointer py-2 rounded-lg border-2 border-neutral-800 bg-neutral-700 hover:bg-gray-900 transition-colors ml-2 text-white text-sm appearance-auto dark:border-neutral-200 dark:bg-neutral-300 dark:hover:bg-neutral-100 dark:text-black">
			<option value="en">EN</option>
			<option value="fr">FR</option>
			<option value="it">IT</option>
		</select>
		
		<!-- Theme Toggle Button -->
		<button id="theme-toggle-btn" class="p-2 rounded-xl border-2 border-neutral-800 bg-neutral-700 hover:bg-gray-900 transition-colors ml-2
					dark:border-neutral-200 dark:bg-neutral-300 dark:hover:bg-neutral-100"
			title="Toggle dark/light mode">
			<svg class="w-5 h-5 text-white dark:text-black" fill="none" viewBox="0 0 24 24"
				stroke="currentColor">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
					d="M12 3v1m6.364 1.636l-.707.707M21 12h-1m-1.636-6.364l-.707-.707M12 21v-1m-6.364-1.636l.707-.707M3 12h1m1.636 6.364l.707.707M12 12a3 3 0 110-6 3 3 0 010 6z" />
			</svg>
		</button>
	</div>

	<!-- Search Results Dropdown -->
	<div id="search-results-dropdown"
		class="fixed left-0 right-0 z-40 bg-neutral-900 dark:bg-neutral-800 border-x-2 border-b-2 border-accent-orange dark:border-accent-green hidden shadow-[0_10px_20px_rgba(0,0,0,0.5)]">
		<!-- Results will be injected here -->
	</div>

	<!-- homepage -->
	<!-- Main content-->
	<main id="main-content" class="z-0 cards w-full min-h-screen px-4 sm:px-8 lg:px-16" style="padding-top: 0px">
		<!-- Content will be dynamically injected here -->
		<section class="font-extrabold tracking-tighter h-max leading-[0.8] text-gray-800 dark:text-gray-100" >
			<h1
				class="text-[7vw] px-[10vw] uppercase">
				FT/<br />TRANSCENDENCE
			</h1>
			<p class="relative p-4 md:text-2xl sm:text-sm tracking-wid text-center font-bold px-4" data-i18n="site.subtitle"></p>
		</section>
		<div class="w-full flex items-center justify-center p-4 sm:p-6 md:p-8 gap-10 rounded-xl">
			<div
				class="card shadow-[10px_10px_0_0_#ff9d00] overflow-hidden rounded-xl
				dark:shadow-[10px_10px_0_0_#0dff66] hover:shadow-lg dark:hover:shadow-lg hover:brightness-90 transition-all duration-300">
				<div class="flex w-full max-w-xl flex-col md:flex-row items-start gap-4 mb-8 p-6">
					<img src="./42_Logo.svg" alt="42 Logo"
						class="float-start w-full h-full min-w-[50px] min-h-[50px] sm:w-32 sm:h-32 md:w-40 md:h-40 flex-shrink-0 dark:invert" />
					<div class="flex flex-col space-y-4 md:ml-6">
						<a href="https://localhost:3000/docs">
							<h2 class="text-2xl font-bold underline underline-offset-auto tracking-tighter uppercase mb-2 hover:text-white hover:bg-black dark:hover:bg-white dark:hover:text-black" data-i18n="site.documentation"></h2>
						</a>
						<a href="./assets/subject.pdf" target="_blank">
							<h2 class="text-2xl font-bold underline underline-offset-auto tracking-tighter uppercase mb-2 hover:text-white hover:bg-black dark:hover:bg-white dark:hover:text-black" data-i18n="site.subject"></h2>
						</a>
						<a href="/login" id="cta-login-logout-static">
							<h2 class="text-2xl font-bold underline underline-offset-auto tracking-tighter uppercase mb-2 hover:text-white hover:bg-black dark:hover:bg-white dark:hover:text-black" data-i18n="site.login"></h2>
						</a>
					</div>
				</div>
			</div>
		</div>
		<div class="w-full flex items-center justify-center p-4">
			<a href="#" id="tournamentListButton-static" class="hidden">
				<h2 class="text-2xl font-bold underline underline-offset-auto tracking-tighter uppercase mb-2 hover:text-white hover:bg-black dark:hover:bg-white dark:hover:text-black"> ./TOURNAMENTS</h2>
			</a>
		</div>
	</main>

	<!-- Templates (placed outside main-content to avoid being cleared by router) -->
	
	<!-- LOGIN & REGISTER -->
	<template id="login-template">
		<div class="w-full flex items-center justify-center p-4 sm:p-6 md:p-8 gap-10 rounded-xl relative z-30"
			id="container">
			<div
				class="card shadow-[10px_10px_0_0_#ff6b35] dark:shadow-[10px_10px_0_0_#0dff66]
					overflow-hidden rounded-xl
					hover:shadow-lg dark:hover:shadow-lg dark:hover:brightness-90 hover:brightness-105 transition-all duration-300">
				<form
				id="login-form"
				class="flex w-full max-w-2xl flex-col gap-4 p-6">

					<!-- Title -->
					<h1 class="text-3xl font-bold text-left mb-2 text-black dark:text-white">
						Sign in
					</h1>

						<!-- Description -->
						<p class="text-xl text-neutral-600 dark:text-neutral-400 mb-4 text-left" data-i18n="auth.signInDesc"></p>
						<!-- Email -->
						<div class="flex flex-col gap-1">
							<label for="email_log" class="text-sm text-neutral-700 dark:text-neutral-300">Email</label>
							<input
								id="email_log"
								name="email"
								type="email"
								placeholder="you@example.com"
							class="rounded-md dark:bg-black bg-white border dark:border-neutral-700 border-neutral-300 px-4 py-2 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-[accent-orange] dark:focus:ring-[accent-green]" />
					</div>

					<!-- Password -->
					<div class="flex flex-col gap-1">
						<label for="password_log" class="text-sm text-neutral-700 dark:text-neutral-300">Password</label>
						<input
							id="password_log"
							name="password"
							type="password"
							placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
							class="rounded-md dark:bg-black bg-white border dark:border-neutral-700 border-neutral-300
									px-4 py-2 text-black dark:text-white focus:outline-none
									focus:ring-2 focus:ring-[accent-orange] dark:focus:ring-[accent-green]" />
					</div>

					<!-- Submit -->
					<button
						type="submit"
						class="mt-4 w-full rounded-md bg-[#ff6b35] dark:bg-[#0dff66] px-4 py-2 opacity-100
							font-bold text-white dark:text-black hover:brightness-105 dark:hover:brightness-90 transition" data-i18n="auth.signIn">
					</button>

					<!-- Footer -->
					<div class="mt-4 text-xl text-neutral-400 text-center">
						<a
						id="to-register"
						href="#"
						class="text-accent-blue dark:text-accent-cyan hover:underline" data-i18n="auth.noAccount">
						</a>
					</div>
				</form>

				<!--REGISTER-->

				<div class="w-full flex hidden items-center justify-center p-4 sm:p-6 md:p-8 gap-10 rounded-xl"
				id ="register-section">
						<form
							id="register-form"
							class="flex w-full max-w-2xl flex-col gap-4 p-6">

							<!-- Title -->
							<h1 id="register-title" class="text-3xl font-bold text-left mb-2 text-black dark:text-white" data-i18n="site.create-account">
							</h1>

							<!-- Description -->
							<p id="register-desc" class="text-xl text-neutral-600 dark:text-neutral-400 mb-4 text-left" data-i18n="site.pick-name">
							</p>

							<!-- Username -->
							<div class="flex flex-col gap-1">
								<label for="register-username" class="text-sm text-neutral-700 dark:text-neutral-300">Username</label>
								<input
									id="register-username"
									name="username"
									type="text"
									placeholder="john_doe"
									class="rounded-md dark:bg-black bg-white border dark:border-neutral-700 border-neutral-300 px-4 py-2 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-[accent-orange] dark:focus:ring-[accent-green]" />
							</div>

							<!-- Email -->
							<div class="flex flex-col gap-1">
								<label for="register-email" class="text-sm text-neutral-700 dark:text-neutral-300">Email</label>
								<input
									id="register-email"
									name="email"
									type="email"
									placeholder="you@example.com"
									class="rounded-md dark:bg-black bg-white border dark:border-neutral-700 border-neutral-300 px-4 py-2 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-[accent-orange] dark:focus:ring-[accent-green]" />
							</div>

							<!-- Password -->
							<div class="flex flex-col gap-1">
								<label for="register-password" class="text-sm text-neutral-700 dark:text-neutral-300">Password</label>
								<input
									id="register-password"
									name="password"
									type="password"
									placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
									class="rounded-md dark:bg-black bg-white border dark:border-neutral-700 border-neutral-300 px-4 py-2 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-[accent-orange] dark:focus:ring-[accent-green]" />
							</div>

							<!-- Error container -->
							<div id="register-error" class="hidden text-red-400 text-sm"></div>

							<!-- Submit -->
							<button
								id="submit-register"
								type="submit"
								class="mt-4 w-full rounded-md bg-[#ff6b35] dark:bg-[#0dff66] px-4 py-2 font-bold text-white dark:text-black hover:brightness-105 dark:hover:brightness-90 transition"
								data-i18n="site.create-account">
							</button>

							<!-- Footer -->
							<div class="mt-4 text-xl text-neutral-400 text-center">
								<a
									id="to-login-from-register"
									href="#"
									class="text-accent-blue dark:text-accent-cyan hover:underline"
									data-i18n="site.sign-in">
								</a>
							</div>
						</form>
					</div>
				</div>
				
				<!-- TWO FACTOR AUTH-->

				<div class="w-full flex hidden items-center justify-center p-4 sm:p-6 md:p-8 gap-10 rounded-xl"
				id="2fa-section">
					<div
					class="card shadow-[10px_10px_0_0_#ff6b35] dark:shadow-[10px_10px_0_0_#0dff66]
						overflow-hidden rounded-xl bg-white dark:bg-black
						hover:shadow-lg dark:hover:brightness-95 hover:brightness-105 transition-all duration-300 w-full max-md"
					>
					<form id="2fa-form" novalidate class="flex w-full flex-col gap-4 p-6">
						
						<h1 class="text-3xl font-bold text-left mb-2 text-black dark:text-white">
						Two-Factor Auth
						</h1>

						<p class="text-xl text-neutral-600 dark:text-neutral-400 mb-4 text-left">
						Enter the 6-digit code from your authenticator app.
						</p>

						<div class="flex flex-col gap-2">
						<label class="text-sm text-neutral-700 dark:text-neutral-300">Verification Code</label>
						<div class="flex justify-between gap-2" data-pin-input>
							<input type="text" maxlength="1" inputmode="numeric" pattern="[0-9]*"
							class="w-12 h-14 text-center text-2xl font-bold rounded-md dark:bg-black bg-white border dark:border-neutral-700 border-neutral-300 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff6b35] dark:focus:ring-[#0dff66]" />
							<input type="text" maxlength="1" inputmode="numeric" pattern="[0-9]*"
							class="w-12 h-14 text-center text-2xl font-bold rounded-md dark:bg-black bg-white border dark:border-neutral-700 border-neutral-300 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff6b35] dark:focus:ring-[#0dff66]" />
							<input type="text" maxlength="1" inputmode="numeric" pattern="[0-9]*"
							class="w-12 h-14 text-center text-2xl font-bold rounded-md dark:bg-black bg-white border dark:border-neutral-700 border-neutral-300 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff6b35] dark:focus:ring-[#0dff66]" />
							<input type="text" maxlength="1" inputmode="numeric" pattern="[0-9]*"
							class="w-12 h-14 text-center text-2xl font-bold rounded-md dark:bg-black bg-white border dark:border-neutral-700 border-neutral-300 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff6b35] dark:focus:ring-[#0dff66]" />
							<input type="text" maxlength="1" inputmode="numeric" pattern="[0-9]*"
							class="w-12 h-14 text-center text-2xl font-bold rounded-md dark:bg-black bg-white border dark:border-neutral-700 border-neutral-300 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff6b35] dark:focus:ring-[#0dff66]" />
							<input type="text" maxlength="1" inputmode="numeric" pattern="[0-9]*"
							class="w-12 h-14 text-center text-2xl font-bold rounded-md dark:bg-black bg-white border dark:border-neutral-700 border-neutral-300 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-[#ff6b35] dark:focus:ring-[#0dff66]" />
						</div>

						<div id="2fa-error" class="hidden text-red-400 text-sm">Invalid code. Please try again.</div>
						</div>

						<button
						type="submit"
						class="mt-4 w-full rounded-md bg-[#ff6b35] dark:bg-[#0dff66] px-4 py-2
							font-bold text-white dark:text-black hover:brightness-105 dark:hover:brightness-90 transition">
						Log in
						</button>
					</form>
					</div>
				</div>
			</div>
		</div>
	</template>

	<!-- Search Profile Card Template -->
	<template id="search-profile-card-template">
		<div class="w-full cards flex items-center justify-center gap-10 rounded-xl search-profile-card pb-96 -mt-20" style="padding-top: 0px;">
			<div class="card shadow-[10px_10px_0_0_#ff6b35] dark:shadow-[10px_10px_0_0_#0dff66] overflow-hidden rounded-xl hover:shadow-lg dark:hover:shadow-lg dark:hover:brightness-90 hover:brightness-105 transition-all duration-300" style="transform: scale(0.8);">
				<div class="pt-4 px-4 pb-1 w-full flex flex-col gap-0">
					<!-- Header with avatar and info -->
					<div class="flex flex-col md:flex-row items-start gap-4 sm:gap-6 md:gap-8 mb-8">
						<!-- Avatar -->
						<div class="relative flex-shrink-0 z-30">
							<div class="relative w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 aspect-square rounded-md overflow-hidden border-4 border-gray-400 dark:border-neutral-400 flex items-center justify-center bg-gray-200 dark:bg-neutral-800">
								<img class="spc-avatar w-full h-full object-cover" src="/assets/placeholder-avatar.jpg" alt="User avatar" />
							</div>
						</div>

						<!-- User info section -->
						<div class="flex-1 w-full z-30">
							<!-- Username -->
							<h1 class="spc-username text-2xl sm:text-3xl md:text-4xl font-extrabold tracking-tight text-accent-orange dark:text-accent-green mb-4 sm:mb-6 capitalize">Username</h1>
							
							<!-- Email -->
							<div class="flex flex-wrap gap-x-8 gap-y-2 mb-4 sm:mb-6 text-sm sm:text-base md:text-lg">
								<div class="flex items-center gap-2">
									<span class="font-extrabold text-black dark:text-white">Email:</span> 
									<span class="spc-email text-gray-600 dark:text-neutral-400">email@example.com</span>
								</div>
							</div>

							<!-- Action buttons -->
							<div class="flex flex-wrap gap-2 sm:gap-3 items-center">
								<button class="h-10 flex items-center justify-center px-3 sm:px-6 text-xs sm:text-sm md:text-base font-extrabold uppercase tracking-tight whitespace-nowrap rounded transition-all duration-200 spc-chat bg-accent-blue dark:bg-accent-blue text-white dark:text-white hover:brightness-90 dark:hover:brightness-110 active:brightness-75 disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:brightness-100 dark:disabled:hover:brightness-100">
									üí¨ Send Message
								</button>
								<button class="h-10 flex items-center justify-center px-3 sm:px-6 text-xs sm:text-sm md:text-base font-extrabold uppercase tracking-tight whitespace-nowrap rounded transition-all duration-200 spc-add bg-gray-500 dark:bg-accent-green text-white dark:text-white hover:brightness-90 dark:hover:brightness-110 active:brightness-75 disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:brightness-100 dark:disabled:hover:brightness-100">
									üë• Add Friend
								</button>
								<button class="h-10 flex items-center justify-center px-3 sm:px-6 text-xs sm:text-sm md:text-base font-extrabold uppercase tracking-tight whitespace-nowrap rounded transition-all duration-200 spc-block bg-red-600 dark:bg-red-700 text-white hover:brightness-90 dark:hover:brightness-110 active:brightness-75 disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:brightness-100 dark:disabled:hover:brightness-100">
									üîí Block
								</button>
							</div>
						</div>
					</div>

					<!-- Charts Section -->
					<div id="search-profile-charts-section" class="flex flex-col gap-6 p-4 border-t border-accent-orange dark:border-accent-green">
						<!-- Dynamically populated stats will go here -->
					</div>
				</div>
			</div>
		</div>
	</template>

	<!-- MAIN PROFILE -->
	<template id="profile-template">
		<div class="w-full cards flex items-center justify-center pb-96 gap-10 rounded-xl pt-0 -mt-20" id="container">
			<div
				class="card shadow-[10px_10px_0_0_#ff6b35] dark:shadow-[10px_10px_0_0_#0dff66]
					overflow-hidden rounded-xl
					hover:shadow-lg dark:hover:shadow-lg dark:hover:brightness-90 hover:brightness-105 transition-all duration-300"
				style="transform: scale(0.8);">
				<div class="pt-4 px-4 pb-1 w-full flex flex-col gap-0">
					<!-- Header with avatar and title -->
					<div class="flex flex-col md:flex-row items-start gap-4 sm:gap-6 md:gap-8 mb-8">
						<!-- Avatar -->
						<div class="relative flex-shrink-0 z-30">
							<label class="cursor-pointer">
								<input id="input-avatar" type="file" class="hidden" />
								
								<div class="relative w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 aspect-square rounded-md overflow-hidden border-4 border-gray-400 dark:border-neutral-400 flex items-center justify-center bg-gray-200 dark:bg-neutral-800">
									<img id="profile-avatar" alt="avatar" class="w-full h-full object-cover" src="/assets/placeholder-avatar.jpg" />
									<figcaption class="absolute w-full h-full opacity-0 bg-black/0 transition duration-300 ease-in-out hover:opacity-100 hover:bg-black/70 cursor-pointer flex items-center justify-center">
										<svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
											<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.217A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.217A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
											<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
										</svg>
									</figcaption>
								</div>
							</label>
						</div>

							<!-- Title and info section -->
							<div class="flex-1 w-full z-30">
								<!-- Username -->
								<h1 id="profile-username" class="text-2xl sm:text-3xl md:text-4xl font-extrabold tracking-tight text-accent-orange dark:text-accent-green mb-4 sm:mb-6 capitalize">User</h1>
								
								<!-- Email and ID -->
								<div class="mb-4 sm:mb-6 text-sm sm:text-base md:text-lg">
									<div class="flex items-center gap-2">
										<span class="font-extrabold text-black dark:text-white">Email:</span> 
										<span class="text-gray-600 dark:text-neutral-400" id="profile-email">email@example.com</span>
									</div>
								</div>

							<!-- Action buttons and 2FA toggle -->
							<div class="flex flex-wrap gap-2 sm:gap-3 items-center">
								<!-- Chat button -->
								<button id="profile-chat-btn" class="h-10 flex items-center justify-center px-3 sm:px-6 text-xs sm:text-sm md:text-base bg-accent-orange dark:bg-accent-green text-black font-extrabold uppercase tracking-tight hover:brightness-90 transition whitespace-nowrap rounded">
									Chat
								</button>
								<!-- Logout button -->
								<button id="profile-logout-btn" class="h-10 flex items-center justify-center px-3 sm:px-6 text-xs sm:text-sm md:text-base bg-gray-600 dark:bg-neutral-700 text-white font-extrabold uppercase tracking-tight hover:bg-gray-700 dark:hover:bg-neutral-600 transition whitespace-nowrap rounded">
									Logout
								</button>
								<!-- Delete account button -->
								<button command="show-modal" commandfor="delete-dialog" class="h-10 flex items-center justify-center px-3 sm:px-6 text-xs sm:text-sm md:text-base bg-red-500 text-white font-extrabold uppercase tracking-tight hover:brightness-90 transition whitespace-nowrap rounded">
										<span data-i18n="content.profileDelete"></span>
								</button>

								<!-- Language selector -->
								<!-- language selector removed from profile-template (moved to header) -->

								<!-- 2FA toggle -->
								<div class="flex items-center gap-2 ml-auto">
									<input id="input-lock" type="checkbox" class="hidden peer">
									<label
										for="input-lock"
										class="btn-lock group inline-flex items-center h-10 px-4 bg-red-600 dark:bg-red-700 font-extrabold text-white uppercase tracking-tight text-sm cursor-pointer select-none transition-all duration-300 hover:brightness-110 peer-checked:bg-accent-orange dark:peer-checked:bg-accent-green peer-checked:text-black dark:peer-checked:text-black rounded">
										<svg viewBox="0 0 30 40" class="h-5 mr-2" style="transform-origin: center;" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
											<path class="lockb" d="M27 27C27 34.1797 21.1797 40 14 40C6.8203 40 1 34.1797 1 27C1 19.8203 6.8203 14 14 14C21.1797 14 27 19.8203 27 27ZM15.6298 26.5191C16.4544 25.9845 17 25.056 17 24C17 22.3431 15.6569 21 14 21C12.3431 21 11 22.3431 11 24C11 25.056 11.5456 25.9845 12.3702 26.5191L11 32H17L15.6298 26.5191Z" fill="currentColor" stroke="none" />
											<path class="lock" d="M6 21V10C6 5.58172 9.58172 2 14 2V2C18.4183 2 22 5.58172 22 10V21" fill="none" stroke="currentColor" />
										</svg>
										<span id="profile-tfa" class="whitespace-nowrap">2FA</span>
									</label>
								</div>
							</div>
						</div>
					</div>

					<!-- Charts Section -->
					<div id="profile-charts-section" class="flex flex-col gap-6 p-4 border-t border-accent-orange dark:border-accent-green">
						<!-- Dynamically populated stats will go here -->
					</div>
				</div>
			</div>
		</div>
	</template>


	<!-- Delete Dialog -->
	<div
		id="delete-dialog"
		tabindex="-1"
		class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/50"
	>
		<div class="relative p-4 w-full max-w-lg">
			<div class="relative bg-neutral-900 border border-neutral-700 rounded-xl pb-6 
						shadow-[10px_10px_0_0_#f73c3c] transition-all duration-[0.4s] hover:shadow-lg
						outline -outline-offset-1 outline-white/10">
				<div class="bg-neutral-900 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
					<div class="sm:flex sm:items-start">
						<div class="mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-red-500/10 sm:mx-0 sm:size-10">
							<svg viewBox="0 0 24 24" fill="none" data-slot="icon" aria-hidden="true" class="size-6 text-red-400">
								<path d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" stroke-linecap="round" stroke-linejoin="round" />
							</svg>
						</div>
						<div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
							<h3 id="dialog-title" class="text-base font-semibold text-white">Delete account</h3>
							<div class="mt-2">
								<p class="text-sm text-gray-400">Are you sure you want to delete your account? All of your data will be permanently removed. This action cannot be undone.</p>
							</div>
						</div>
					</div>
				</div>
				<div class="bg-gray-800/25 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
					<button type="button" id="confirm-delete-btn" class="inline-flex w-full justify-center rounded-md bg-red-500 px-3 py-2 text-sm font-semibold text-white hover:bg-red-400 sm:ml-3 sm:w-auto">Delete</button>
					<button type="button" id="cancel-delete-btn" class="mt-3 inline-flex w-full justify-center rounded-md bg-white/10 px-3 py-2 text-sm font-semibold text-white inset-ring inset-ring-white/5 hover:bg-white/20 sm:mt-0 sm:w-auto">Cancel</button>
				</div>
			</div>
		</div>
	</div>

	<!-- TOURNAMENTS -->

	<div id="tournament-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center">
		<!-- Backdrop -->
		<div id="tournament-backdrop" class="absolute inset-0 bg-gradient-to-br from-black/60 via-transparent to-black/40 backdrop-blur-sm" aria-hidden="true"></div>

		<!-- Modal card -->
		<div class="relative z-10 w-full max-w-2xl mx-4">
			<div class="bg-white dark:bg-black rounded-xl shadow-[10px_10px_0_0_#ff6b35] dark:shadow-[10px_10px_0_0_#0dff66] border-2 border-gray-200 dark:border-neutral-700 overflow-hidden">
				<div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-neutral-800">
					<h2 id="tournament-title" class="text-2xl font-extrabold text-accent-orange dark:text-accent-green">Available tournaments</h2>
					<button id="tournament-close-btn" class="ml-4 p-2 rounded-md bg-gray-200 dark:bg-neutral-800 hover:bg-gray-300 dark:hover:bg-neutral-700 text-black dark:text-white">Close</button>
				</div>
				<div id="list" class="p-6 grid gap-4 bg-white dark:bg-black"></div>
			</div>
		</div>
	</div>

	<!-- Home Template -->
	<template id="home-template">
		<section class="font-extrabold tracking-tighter h-max leading-[0.8] text-gray-800 dark:text-gray-100" >
			<h1 class="text-[7vw] px-[10vw] uppercase">
				FT/<br />TRASCENDENCE
			</h1>
			<p class="relative p-4 md:text-2xl sm:text-sm tracking-wid text-center font-bold px-4" data-i18n="site.subtitle">
			</p>
		</section>
		<div class="w-full flex items-center justify-center p-4 sm:p-6 md:p-8 gap-10 rounded-xl"></div>
		<!-- Slideshow Wrapper -->
		<div class="relative w-full flex items-center justify-center max-w-[60vh]">
		<!-- Previous Button -->
			<button id="slideshow-prev-btn" 
			class="absolute left-0 z-10 p-2 sm:p-3 dark:bg-accent-pink bg-accent-orange text-black dark:text-white 
				font-extrabold uppercase tracking-tight hover:brightness-90 transition border-2
				dark:border-neutral-700 border-neutral-300 rounded-full w-8 h-8 sm:w-12 sm:h-12 flex items-center justify-center">
			<svg class="w-4 h-4 sm:w-6 sm:h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
			<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
			</svg>
			</button>

			<!-- Slides Container -->
			<div class="w-full mx-auto px-4 sm:px-8 md:px-16">
				<!-- CARD PONG -->
				<div id="pong-card-wrapper" class="hidden">
				<button id="pong-card-btn" class="p-10 w-full
				border-4 dark:border-neutral-700 border-neutral-300 dark:bg-neutral-900 bg-neutral-100
				shadow-[10px_10px_0_0_#00a8e8] accent-accent-blue dark:shadow-[10px_10px_0_0_#0dff66]  overflow-hidden
				hover:shadow-lg hover:brightness-110 transition-all duration-300 cursor-pointer block text-left
				slideshow-slide">

					<h3 class="text-3xl font-extrabold mb-6 uppercase tracking-tight text-accent-orange dark:text-accent-pink text-center hover:underline scale-105 duration-300">
					Play pong
					</h3>

					<div class="w-full aspect-square relative border-4 border-double dark:border-white border-black mx-auto">
					<div class="absolute top-0 left-1/2 -translate-x-1/2 w-0 h-full border-dotted border-r-2 dark:border-white border-black"></div>
					<div class="absolute left-[6%] w-[0.3vw] h-[1.2vw] dark:bg-white bg-black animate-[ping_6s_linear_infinite]"></div>
					<div class="absolute right-[6%] w-[0.3vw] h-[1.2vw] dark:bg-white bg-black animate-[pong_6s_linear_infinite]"></div>
					<div class="absolute w-[0.4vw] h-[0.4vw] dark:bg-white bg-black animate-[ball_6s_linear_infinite]"></div>
					</div>
				</button>
				</div>

				<!-- Tic tac toe -->
				<div id="tris-card-wrapper">
				<button id="tris-card-btn" class="p-10 w-full
				border-4 dark:border-neutral-700 border-neutral-300 dark:bg-neutral-900 bg-neutral-100
				shadow-[10px_10px_0_0_#00a8e8] dark:shadow-[10px_10px_0_0_#0dff66] overflow-hidden
				hover:shadow-lg hover:brightness-110 transition-all duration-300 cursor-pointer block text-left
				slideshow-slide">
			<h3 class="text-3xl font-extrabold mb-6 uppercase tracking-tight text-accent-orange dark:text-accent-pink text-center hover:underline scale-105 duration-300">
				Play tris
			</h3>

			<div class="relative w-full aspect-square border-4 border-double dark:border-white border-black mx-auto overflow-hidden pointer-events-none">

			<!-- Vertical grid lines -->
			<div class="absolute left-1/3 top-0 w-[2px] h-full dark:bg-white bg-black animate-grid-v"></div>
			<div class="absolute left-2/3 top-0 w-[2px] h-full dark:bg-white bg-black animate-grid-v" style="animation-delay: 0.2s;"></div>

			<!-- Horizontal grid lines -->
			<div class="absolute top-1/3 left-0 h-[2px] w-full dark:bg-white bg-black animate-grid-h"></div>
			<div class="absolute top-2/3 left-0 h-[2px] w-full dark:bg-white bg-black animate-grid-h" style="animation-delay: 0.2s;"></div>

			<!-- X -->
			<div class="absolute inset-0 animate-x">
				<div class="absolute top-[40%] left-[40%] w-[30%] h-[2px] dark:bg-white bg-black rotate-45 origin-left"></div>
				<div class="absolute top-[60%] left-[40%] w-[30%] h-[2px] dark:bg-white bg-black -rotate-45 origin-left"></div>
			</div>

			<!-- O -->
			<div class="absolute inset-0 animate-o">
				<div class="absolute top-[40%] left-[40%] w-[20%] h-[20%] rounded-full border-2 border-black dark:border-white"></div>
			</div>

			</div>
				</button>
				</div>
			</div>

			<!-- Next Button -->
			<label for="slideshow-next-btn">
			<button id="slideshow-next-btn" 
				class="absolute right-0 z-10 p-2 sm:p-3 dark:bg-accent-pink bg-accent-blue text-black dark:text-white font-extrabold uppercase tracking-tight hover:brightness-90 transition border-2
				 border-neutral-300 dark:border-neutral-700 rounded-full w-8 h-8 sm:w-12 sm:h-12 flex items-center justify-center">
				<svg class="w-4 h-4 sm:w-6 sm:h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
				</svg>
			</button>
			</label>
						<!-- Slideshow Indicators (dots) -->
			<div class="flex gap-3 justify-center mt-8">
			<button class="slideshow-indicator w-3 h-3 rounded-full dark:bg-accent-pink bg-accent-blue transition-all duration-300 active" data-slide="tris"></button>
			<button class="slideshow-indicator w-3 h-3 rounded-full bg-neutral-300 dark:bg-neutral-700 transition-all duration-300 dark:hover:bg-neutral-600 hover:bg-neutral-200" data-slide="pong"></button>
				</div>
			</div>
		</div>
			<div
				class="card shadow-[10px_10px_0_0_#ff9d00] overflow-hidden rounded-xl
				dark:shadow-[10px_10px_0_0_#0dff66] hover:shadow-lg dark:hover:shadow-lg hover:brightness-90 transition-all duration-300">
				<div class="flex w-full max-w-xl flex-col md:flex-row items-start gap-4 mb-8 p-6">
					<img src="./42_Logo.svg" alt="42 Logo"
						class="float-start w-full h-full min-w-[50px] min-h-[50px] sm:w-32 sm:h-32 md:w-40 md:h-40 flex-shrink-0 dark:invert" />
					<div class="flex flex-col space-y-4 md:ml-6">
						<a href="https://localhost:3000/docs">
							<h2 class="text-2xl font-bold underline underline-offset-auto tracking-tighter uppercase mb-2 hover:text-white hover:bg-black dark:hover:bg-white dark:hover:text-black" data-i18n="site.documentation"></h2>
						</a>
						<a href="/assets/subject.pdf" target="_blank">
							<h2 class="text-2xl font-bold underline underline-offset-auto tracking-tighter uppercase mb-2 hover:text-white hover:bg-black dark:hover:bg-white dark:hover:text-black" data-i18n="site.subject"></h2>
						</a>
						<a href="/login" id="cta-login-logout">
							<h2 class="text-2xl font-bold underline underline-offset-auto tracking-tighter uppercase mb-2 hover:text-white hover:bg-black dark:hover:bg-white dark:hover:text-black" data-i18n="site.login"></h2>
						</a>
					</div>
				</div>
			</div>

		</div>
		<div class="w-full flex items-center justify-center p-4">
			<a href="#" id="tournamentListButton" class="hidden">
				<h2 class="text-2xl font-bold underline underline-offset-auto tracking-tighter uppercase mb-2 hover:text-white hover:bg-black dark:hover:bg-white dark:hover:text-black"> ./TOURNAMENTS</h2>
			</a>
		</div>
	</template>

<!-- Tris Game Modals-->

<!-- Tris Mode Selection Modal -->
<div
  id="tris-mode-modal"
  tabindex="-1"
  class="hidden fixed inset-0 z-50 flex justify-center items-center w-full h-full dark:bg-black bg-white bg-opacity-50"
>
  <div class="relative p-20 w-full max-w-xl">
    <div class="relative dark:bg-neutral-900 bg-neutral-100 border-4 dark:border-neutral-700 border-neutral-300 dark:shadow-[10px_10px_0_0_#ff009d]
	shadow-[10px_10px_0_0_#0dff66] h-auto flex flex-col hover:shadow-lg transition duration-300">
      
      <!-- Close button -->
      <button
        type="button"
        class="absolute top-4 right-4 z-10 dark:text-neutral-400 text-neutral-600 bg-transparent 
               hover:bg-neutral-800 hover:text-white transition border-2 dark:border-neutral-700 border-neutral-300 rounded-md
               w-8 h-8 inline-flex justify-center items-center"
        id="tris-mode-close-btn"
      >
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>

      <!-- Header -->
      <div class="p-8 border-b-2 dark:border-neutral-700 border-neutral-300 dark:bg-neutral-800 bg-neutral-200">
        <h2 class="text-3xl font-extrabold uppercase tracking-tight dark:text-accent-pink text-accent-orange">Select Game Mode</h2>
        <p class="dark:text-neutral-400 text-neutral-600 text-sm mt-2">Choose how you want to play Tris</p>
      </div>

      <!-- Mode selection area -->
      <div class="p-8 flex flex-col gap-4">
        <!-- Online Mode -->
        <button
          id="tris-mode-online"
          class="group relative p-6 bg-gradient-to-br dark:from-neutral-800 from-neutral-200 
		  		dark:to-neutral-900 to-neutral-100 border-3 dark:border-neutral-700 border-neutral-300 
                 hover:border-accent-orange dark:hover:border-accent-green transition-all duration-300 
				 hover:shadow-[0_0_20px_#ff6b35] dark:hover:shadow-[0_0_20px_#0dff66]
                 flex flex-col items-start gap-2 cursor-pointer rounded-xl"
        >
          <span class="text-xl font-extrabold uppercase dark:text-accent-green text-accent-orange">Online</span>
          <span class="text-sm dark:text-neutral-400 dark:group-hover:text-neutral-300 text-neutral-600 group-hover:text-neutral-700 transition">
            Play against other players online with matchmaking
          </span>
        </button>

        <!-- Offline 1v1 Mode -->
        <button
          id="tris-mode-offline-1v1"
          class="group relative p-6 bg-gradient-to-br dark:from-neutral-800 from-neutral-200 
		  		dark:to-neutral-900 to-neutral-100 border-3 dark:border-neutral-700 border-neutral-300 
                 hover:border-accent-blue dark:hover:border-x-accent-cyan dark:hover:border-accent-purple transition-all duration-300 
				 hover:shadow-[0_0_20px_#00a8e8] dark:hover:shadow-[0_0_20px_#00ffff]
                 flex flex-col items-start gap-2 cursor-pointer rounded-xl"
        >
          <span class="text-xl font-extrabold uppercase dark:text-accent-cyan text-accent-blue">Offline 1v1</span>
          <span class="text-sm dark:text-neutral-400 dark:group-hover:text-neutral-300 text-neutral-600 group-hover:text-neutral-700 transition">
            Play against a friend on the same device
          </span>
        </button>

        <!-- Offline AI Mode -->
        <button
          id="tris-mode-offline-ai"
          class="group relative p-6 bg-gradient-to-br dark:from-neutral-800 from-neutral-200 
		  		dark:to-neutral-900 to-neutral-100 border-3 dark:border-neutral-700 border-neutral-300 
                 hover:border-accent-red dark:hover:border-accent-pink transition-all duration-300 
				 hover:shadow-[0_0_20px_#ff6b35] dark:hover:shadow-[0_0_20px_#ff6b35]
                 flex flex-col items-start gap-2 cursor-pointer rounded-xl"
        >
          <span class="text-xl font-extrabold uppercase dark:text-accent-pink text-accent-red">Offline Bot</span>
          <span class="text-sm dark:text-neutral-400 dark:group-hover:text-neutral-300 text-neutral-600 group-hover:text-neutral-700 transition">
            Play against an AI bot locally
          </span>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Pong Game modals-->

<!-- Pong Mode Selection Modal -->
<div
	id="pong-mode-modal"
	tabindex="-1"
	class="hidden fixed inset-0 z-50 flex justify-center items-center w-full h-full dark:bg-black bg-white bg-opacity-50"
>
	<div class="relative p-20 w-full max-w-xl">
		<div class="relative dark:bg-neutral-900 bg-neutral-100 border-4 dark:border-neutral-700 border-neutral-300 h-auto flex flex-col hover:shadow-lg transition duration-300">
			<button id="pong-mode-close-btn" class="absolute top-4 right-4 w-8 h-8 inline-flex justify-center items-center rounded-md border-2 dark:border-neutral-700 border-neutral-300 bg-transparent hover:bg-neutral-800 hover:text-white">‚úï</button>
			<div class="p-8 border-b-2 dark:border-neutral-700 border-neutral-300 dark:bg-neutral-800 bg-neutral-200">
				<h2 class="text-3xl font-extrabold uppercase tracking-tight dark:text-accent-pink text-accent-orange">Select Pong Mode</h2>
				<p class="dark:text-neutral-400 text-neutral-600 text-sm mt-2">Choose how you want to play Pong</p>
			</div>
			<div class="p-8 flex flex-col gap-4">
				<button id="pong-mode-online" class="group relative p-6 bg-gradient-to-br dark:from-neutral-800 from-neutral-200 dark:to-neutral-900 to-neutral-100 border-3 dark:border-neutral-700 border-neutral-300 rounded-xl">Online</button>
				<button id="pong-mode-offline-1v1" class="group relative p-6 bg-gradient-to-br dark:from-neutral-800 from-neutral-200 dark:to-neutral-900 to-neutral-100 border-3 dark:border-neutral-700 border-neutral-300 rounded-xl">Offline 1v1</button>
				<button id="pong-mode-offline-ai" class="group relative p-6 bg-gradient-to-br dark:from-neutral-800 from-neutral-200 dark:to-neutral-900 to-neutral-100 border-3 dark:border-neutral-700 border-neutral-300 rounded-xl">Offline vs Bot</button>
			</div>
		</div>
	</div>
</div>

<!-- Pong Game Modal -->
<div
	id="pong-modal"
	tabindex="-1"
	class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-30 justify-center items-center w-full md:inset-0 h-full max-h-full p-4"
>
	<div class="relative z-50 w-full max-w-4xl">
		<div class="relative dark:bg-neutral-900 bg-white/80 backdrop-blur-sm rounded-xl border-4 dark:border-neutral-700 border-neutral-300 dark:shadow-[15px_15px_0_0_rgba(255,0,157,0.3)] shadow-[15px_15px_0_0_rgba(0,168,232,0.3)] overflow-hidden flex flex-col">
			<!-- Close button -->
			<button id="pong-close-btn" class="absolute top-4 right-4 z-10 w-8 h-8 inline-flex justify-center items-center rounded-md border-2 dark:border-neutral-700 border-neutral-300 bg-neutral-200 dark:bg-neutral-800 hover:bg-neutral-300 dark:hover:bg-neutral-700 transition">‚úï</button>

			<!-- Header Card -->
			<div class="p-6 border-b-2 dark:border-neutral-700 border-neutral-300 dark:bg-gradient-to-r dark:from-neutral-800 dark:to-neutral-900 bg-gradient-to-r from-neutral-100 to-neutral-50">
				<div class="flex items-center gap-3">
					<h2 class="text-3xl font-extrabold uppercase tracking-tight dark:text-accent-pink text-accent-orange">Pong</h2>
					<span id="pong-game-id" class="text-sm dark:text-neutral-400 text-neutral-600 font-mono px-3 py-1 dark:bg-neutral-700/50 bg-neutral-200/50 rounded-lg"></span>
				</div>
			</div>

			<!-- Main Content -->
			<div class="p-8 flex flex-col gap-6 max-h-[calc(100vh-300px)]">
				<!-- Game Canvas Card -->
				<div class="flex-1 rounded-lg overflow-hidden border-3 dark:border-neutral-700 border-neutral-300 bg-black shadow-lg">
					<canvas id="pong-canvas" class="w-full h-full"></canvas>
				</div>

				<!-- Status Card -->
				<div id="pong-status" class="text-center p-4 dark:bg-neutral-800/80 bg-neutral-100 rounded-lg border-2 dark:border-neutral-700 border-neutral-300 text-black dark:text-white font-semibold uppercase tracking-wide">Connecting...</div>

				<!-- Controls Card -->
				<div class="flex gap-3 justify-center flex-wrap p-4 dark:bg-neutral-800/50 bg-neutral-50/50 rounded-lg border-2 dark:border-neutral-700 border-neutral-300">
					<!-- Player names and score inputs -->
					<div class="flex gap-3 items-center flex-wrap">
						<label for="pong-player-names" class="text-sm font-semibold dark:text-neutral-300 text-neutral-700">Players</label>
						<input id="pong-player-names" type="text" placeholder="Player1, Player2"
						class="px-3 py-2 rounded-md dark:bg-black bg-white border dark:border-neutral-700 border-neutral-300 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-accent-cyan" />
					</div>
					<div class="flex gap-3 items-center flex-wrap">
						<label for="pong-target-score" class="text-sm font-semibold dark:text-neutral-300 text-neutral-700">Score</label>
						<input id="pong-target-score" type="number" min="1" placeholder="5"
						class="w-20 px-3 py-2 rounded-md dark:bg-black bg-white border dark:border-neutral-700 border-neutral-300 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-accent-cyan" />
					</div>

					<button id="pong-start-btn" class="px-6 py-3 dark:bg-accent-green bg-accent-cyan dark:text-white text-black font-extrabold uppercase tracking-tight rounded-lg hover:brightness-110 transition border-2 dark:border-accent-green border-accent-cyan">Start</button>
					<button id="pong-reset-btn" class="px-6 py-3 dark:bg-neutral-700 bg-neutral-300 dark:text-white text-black font-extrabold uppercase tracking-tight rounded-lg hover:brightness-110 transition border-2 dark:border-neutral-700 border-neutral-300">Reset</button>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Tris Game Modal -->
<div
  id="tris-modal"
  tabindex="-1"
  class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-10 
         justify-center items-center w-full md:inset-0 h-full max-h-full p-4"
>
  <div class="relative z-50 w-full max-w-2xl">
    <div class="relative dark:bg-neutral-900 bg-white/80 backdrop-blur-sm rounded-xl border-4 dark:border-neutral-700 border-neutral-300 
	dark:shadow-[15px_15px_0_0_rgba(255,0,157,0.3)] shadow-[15px_15px_0_0_rgba(0,168,232,0.3)] overflow-hidden flex flex-col">

      <!-- Close button -->
      <button
        type="button"
        class="absolute top-4 right-4 z-10 dark:text-neutral-400 text-neutral-600 bg-neutral-200 dark:bg-neutral-800 hover:bg-neutral-300 dark:hover:bg-neutral-700
               transition border-2 dark:border-neutral-700 border-neutral-300 rounded-md
               w-8 h-8 inline-flex justify-center items-center"
        id="tris-close-btn"
      >
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>

      <!-- Header Card -->
      <div class="p-6 border-b-2 dark:border-neutral-700 border-neutral-300 dark:bg-gradient-to-r dark:from-neutral-800 dark:to-neutral-900 bg-gradient-to-r from-neutral-100 to-neutral-50">
        <div class="flex items-center gap-3">
          <h2 class="text-3xl font-extrabold uppercase tracking-tight dark:text-accent-pink text-accent-orange">Tris</h2>
          <span id="tris-game-id" class="text-sm dark:text-neutral-400 text-neutral-600 font-mono px-3 py-1 dark:bg-neutral-700/50 bg-neutral-200/50 rounded-lg"></span>
        </div>
      </div>

      <!-- Game area -->
      <div class="p-8 flex flex-col gap-6">
        <!-- Game board (3x3 grid) Card -->
        <div class="flex flex-col items-center gap-3">
          <h3 class="text-sm font-semibold uppercase tracking-wide dark:text-neutral-300 text-neutral-700">Game Board</h3>
          <div id="tris-board" class="grid grid-cols-3 gap-3 p-4 dark:bg-neutral-800/50 bg-neutral-50/50 rounded-lg border-2 dark:border-neutral-700 border-neutral-300">
            <!-- Cells will be generated by JS -->
          </div>
        </div>

        <!-- Game status Card -->
        <div id="tris-status" class="text-center p-4 dark:bg-neutral-800/80 bg-neutral-100 rounded-lg border-2 dark:border-neutral-700 border-neutral-300
	 text-black dark:text-white font-semibold uppercase tracking-wide">
          Connecting...
        </div>

        <!-- Control buttons Card -->
        <div class="flex gap-3 justify-center flex-wrap p-4 dark:bg-neutral-800/50 bg-neutral-50/50 rounded-lg border-2 dark:border-neutral-700 border-neutral-300">
          <button 
            id="tris-start-btn"
            class="px-6 py-3 dark:bg-accent-green bg-accent-cyan dark:text-white text-black font-extrabold uppercase tracking-tight
	 hover:brightness-110 transition border-2 dark:border-accent-green border-accent-cyan rounded-lg">
            Start
          </button>
          <button 
            id="tris-surrender-btn"
            class="px-6 py-3 dark:bg-accent-red bg-accent-red dark:text-white text-black font-extrabold uppercase tracking-tight 
	hover:brightness-110 transition border-2 dark:border-accent-red border-accent-red rounded-lg"
          >
            Surrender
          </button>
          <button 
            id="tris-reset-btn"
            class="px-6 py-3 dark:bg-neutral-700 bg-neutral-300 dark:text-white text-black font-extrabold uppercase tracking-tight
	 hover:brightness-110 transition border-2 dark:border-neutral-700 border-neutral-300 rounded-lg"
          >
            Reset
          </button>
        </div>

        <!-- Error message -->
        <div id="tris-error" class="text-red-500 text-sm text-center hidden"></div>
      </div>
    </div>
  </div>
</div><!-- Generic Game Invite Modal (used by Tris and Pong) -->
<div
  id="game-invite-modal"
  tabindex="-1"
  class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-30 
         flex justify-center items-center w-full md:inset-0 h-full max-h-full"
>
  <div class="relative p-4 w-full max-w-md max-h-full">
    <div class="relative dark:bg-neutral-900 bg-neutral-100 border-4 dark:border-neutral-700 border-neutral-300 
	dark:shadow-[10px_10px_0_0_#00ffff] shadow-[10px_10px_0_0_#ff6b35] h-auto flex flex-col">

      <!-- Close button -->
      <button
        type="button"
        class="absolute top-4 right-4 z-50 dark:text-white text-black bg-transparent 
               dark:hover:bg-neutral-800 hover:bg-neutral-200 hover:text-white transition border-2 dark:border-neutral-700 border-neutral-300
               w-8 h-8 inline-flex justify-center items-center"
        id="game-invite-close-btn"
      >
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>

      <!-- Header -->
      <div class="p-6 border-b-2 dark:border-neutral-700 dark:bg-neutral-800 border-neutral-300 bg-neutral-200">
        <h2 id="game-invite-title" class="text-2xl font-extrabold uppercase tracking-tight dark:text-[#00ffff] text-accent-orange">Invite Friend</h2>
        <p id="game-invite-subtitle" class="dark:text-neutral-400 text-neutral-600 text-sm mt-2">Select a friend to invite</p>
      </div>

      <!-- Friends list -->
      <div id="game-invite-friends-list" class="p-6 flex flex-col gap-2 max-h-96 overflow-y-auto">
        <div class="dark:text-neutral-400 text-neutral-600 text-center py-4">Loading friends...</div>
      </div>
    </div>
  </div>
</div>

<!-- Chat Modal -->
<div
	id="chat-modal"
	tabindex="-1"
	class="hidden flex overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 rounded-xl
				 justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full bg-black/50"
>
	<div class="relative p-4 w-full max-w-4xl max-h-full">
			<div class="relative bg-white dark:bg-gray-900 rounded-2xl overflow-hidden
						shadow-[10px_10px_0_0_#ff6b35] dark:shadow-[10px_10px_0_0_#0dff66] 
						hover:shadow-lg dark:hover:shadow-lg transition-all duration-300 h-[80vh] flex flex-col md:flex-row">

				<!-- Absolute close button in top-right corner -->
				<button
					type="button"
					id="chat-close-btn"
					class="absolute top-3 right-3 z-50 text-accent-orange dark:text-green-400 bg-transparent hover:bg-gray-300 hover:text-accent-orange dark:hover:bg-gray-600 dark:hover:text-accent-green rounded-lg text-sm w-9 h-9 inline-flex justify-center items-center transition-colors"
					title="Close chat"
				>
					<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
						<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
					</svg>
					<span class="sr-only">Close modal</span>
				</button>



			<!-- Sidebar with chat list -->
			<div class="w-80 bg-gray-100 dark:bg-gray-800 rounded-l-2xl border-r-2 border-gray-800 dark:border-gray-300 flex flex-col">
				<div class="p-4 border-b-2 border-gray-800 dark:border-gray-300">
					<h3 class="text-lg font-bold text-black dark:text-white uppercase tracking-tight">Chats</h3>
					<button
						id="create-group-btn"
						class="mt-3 w-full bg-accent-orange dark:bg-accent-green text-black px-4 py-2 rounded-xl font-extrabold text-sm 
								hover:brightness-90 dark:hover:brightness-110 transition-all duration-200 uppercase tracking-tight"
						data-i18n="chat.create-group">
					</button>
				</div>
				<div id="chat-list" class="flex-1 overflow-y-auto p-2 space-y-1">
					<!-- Chat items will be populated here -->
				</div>
			</div>

			<!-- Main chat area -->
			<div class="flex-1 flex flex-col bg-white dark:bg-gray-900 rounded-tr-2xl">
				<!-- Chat header -->
				<div class="p-2 border-b-2 rounded-tr-2xl border-gray-800 dark:border-gray-300 bg-gray-50 dark:bg-gray-800 flex items-center h-17">
					<div id="chat-header-actions" class="pr-4 flex flex-col items-center gap-2 flex-shrink-0">
						<button
							id="leave-group-btn"
							class="hidden w-8 h-8 flex items-center justify-center bg-red-500 dark:bg-red-600 hover:bg-red-600 dark:hover:bg-red-700 text-white rounded-md"
							title="Leave this group chat"
							aria-label="Leave group"
						>
							<svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
								<path d="M16 17l5-5-5-5" />
								<path d="M21 12H9" />
								<path d="M9 19H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h4" />
							</svg>
							<span class="sr-only" data-i18n="chat.leave"></span>
						</button>
						<!-- add-user-btn will be inserted here dynamically -->
					</div>
					<div class="flex-1 min-w-0">
						<div class="flex flex-col min-w-0">
							<h2 id="chat-header" class="text-xl font-bold text-black dark:text-white uppercase tracking-tight truncate" data-i18n="chat.select"></h2>
							<div id="chat-members" class="mt-1 text-sm text-neutral-500 dark:text-neutral-300 truncate"></div>
						</div>
					</div>
				</div>

				<!-- Messages container with load more button -->
				<div id="chat-messages-container" class="flex-1 overflow-y-auto p-4 space-y-3 bg-white dark:bg-gray-900 flex flex-col">
					<button id="load-more-btn" 
						class="btn mx-auto mb-4 px-4 py-2 bg-accent-orange dark:bg-accent-green text-black font-extrabold rounded-xl 
								hover:brightness-90 dark:hover:brightness-110 transition-all uppercase tracking-tight border-2 border-gray-800 dark:border-gray-300" 
						style="display: none;"
						data-i18n="chat.load-more">
					</button>
					<div id="chat-messages" class="space-y-3">
						<!-- Messages will be appended here -->
					</div>
				</div>

				<!-- Chat input -->
				<div class="p-4 border-t-2 border-gray-800 dark:border-gray-300 bg-gray-50 dark:bg-gray-800">
					<div class="flex gap-2">
						<input
							id="chat-input"
							type="text"
							class="flex-1 bg-white dark:bg-gray-700 text-black dark:text-white px-3 py-2 rounded-xl border-2 
									border-gray-800 dark:border-gray-300 focus:outline-none focus:ring-2 
									focus:ring-accent-orange dark:focus:ring-accent-green placeholder-gray-600 dark:placeholder-gray-400"
							placeholder="Type a message..."
						/>
						<button
							id="chat-send-btn"
							class="bg-accent-orange dark:bg-accent-green text-black font-extrabold px-4 py-2 rounded-xl 
									hover:brightness-90 dark:hover:brightness-110 transition-all uppercase tracking-tight"
						 	data-i18n="chat.send">
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Friend Selection Modal for Group Creation -->
<div
  id="friend-selection-modal"
  tabindex="-1"
  class="hidden flex overflow-y-auto overflow-x-hidden fixed top-0 right-0 z-50 
         justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full bg-black/50"
>
	<div class="relative p-4 w-full max-w-2xl max-h-full">
		<div class="relative bg-white dark:bg-neutral-900 border-2 border-gray-200 dark:border-neutral-700 rounded-xl shadow-[10px_10px_0_0_#ff6b35] dark:shadow-[10px_10px_0_0_#0dff66] p-6">

      <!-- Close button -->
			<button
				type="button"
				class="absolute top-3 right-3 z-10 text-gray-600 bg-transparent 
							 hover:bg-gray-200 dark:hover:bg-neutral-800 hover:text-black dark:hover:text-white rounded-lg text-sm 
							 w-9 h-9 inline-flex justify-center items-center"
				id="friend-modal-close-btn"
			>
        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M6 18L18 6M6 6l12 12"/>
        </svg>
        <span class="sr-only">Close modal</span>
      </button>

      <!-- Header -->
      <h2 class="text-2xl font-bold text-white mb-4" data-i18n="chat.create"></h2>
      <p class="text-neutral-400 mb-6" data-i18n="chat.select-group"></p>

      <!-- Group name input -->
      <div class="mb-6">
				<label for="group-name-input" class="block text-gray-800 dark:text-white font-semibold mb-2" data-i18n="chat.group-name"></label>
				<input
					id="group-name-input"
					type="text"
					class="w-full bg-white dark:bg-neutral-700 text-black dark:text-white px-3 py-2 rounded-md border border-gray-300 dark:border-neutral-600 focus:outline-none focus:border-accent-orange dark:focus:border-accent-green"
					data-i18n-placeholder="chat.groupNamePlaceholder"
				/>
      </div>

      <!-- Friends list -->
			<div id="friends-list" class="border rounded-md p-4 mb-6 max-h-96 overflow-y-auto bg-white dark:bg-neutral-800 border-gray-200 dark:border-neutral-700">
				<div class="text-gray-600 dark:text-neutral-400 text-center">Loading friends...</div>
      </div>

      <!-- Selected friends display -->
			<div id="selected-friends" class="mb-6 p-3 bg-white dark:bg-neutral-800 rounded-md border border-gray-200 dark:border-neutral-700 min-h-12">
				<p class="text-sm text-gray-600 dark:text-neutral-400 mb-2" data-i18n="chat.selected-count"> <span id="selected-count">0</span></p>
        <div id="selected-friends-tags" class="flex flex-wrap gap-2">
          <!-- Selected friend tags will appear here -->
        </div>
      </div>

      <!-- Buttons -->
      <div class="flex gap-3 justify-end">
        <button
          id="friend-modal-cancel-btn"
					class="px-4 py-2 bg-white/10 dark:bg-neutral-700 text-black dark:text-white rounded-md hover:bg-gray-100 dark:hover:bg-neutral-600 transition"
        >
          Cancel
        </button>
        <button
          id="create-group-submit-btn"
					class="px-4 py-2 bg-accent-orange dark:bg-accent-green text-white font-semibold rounded-md hover:brightness-90 transition disabled:opacity-50 disabled:cursor-not-allowed"
          disabled
        	data-i18n="chat.create-group">
        </button>
      </div>

    </div>
  </div>
</div>

</body>

</html>