<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>ft_transcendence</title>
	<link rel="icon" type="image/png" href="/42_Logo.svg" />
	<link href="./tailwind.css" rel="stylesheet" />
	<script type="module" src="./src/main.ts"></script>
</head>
<body class="bg-black text-neutral-200 font-sans antialiased">
	<section class="relative h-max flex flex-col items-center justify-center overflow-hidden bg-black">
		<div class="fixed inset-0 bg-[length:40px_40px] pointer-events-none
		bg-[linear-gradient(to_right,#262626_1px,transparent_1px),linear-gradient(to_bottom,#262626_1px,transparent_1px)]
		animate-[gridMove_12s_linear_infinite] opacity-60 mix-blend-lighten [mask-image:radial-gradient(ellipse_at_top_left,transparent_15%,black)]">
	</div>
	<div class="absolute inset-0 z-20 mix-blend-difference pointer-events-none
	bg-[#ff009d] [clip-path:polygon(0_0,45%_0,25%_100%,0%_100%)]">
	</div>

<div class=" shadow-[10px_10px_0_0_#0dff66]"> </div>
<!-- Search User Bar at Top -->
	<div class="sticky top-0 z-50 w-full border-b-2 border-neutral-700 hover:border-[#0dff66] transition-colors duration-300 bg-neutral-900 dark:bg-neutral-900 light:bg-white dark:border-neutral-700 dark:hover:border-[#0dff66] light:border-gray-300 light:hover:border-orange-400 relative h-12 sm:h-14">
		<div class="max-w-full mx-auto flex gap-1 sm:gap-2 items-center px-2 sm:px-4 h-full">
			<form id="search-user-form" class="flex gap-1 sm:gap-2 w-full">
				<input 
					id="search-user-input"
					type="text" 
					placeholder="Search user..." 
					autocomplete="off"
					class="flex-1 px-2 sm:px-4 py-2 bg-neutral-800 border-2 border-neutral-700 text-white placeholder-neutral-500 focus:outline-none focus:border-[#0dff66] hover:border-neutral-600 uppercase tracking-tight font-semibold text-xs sm:text-sm transition-colors duration-300 dark:bg-neutral-800 dark:border-neutral-700 dark:text-white dark:placeholder-neutral-500 dark:focus:border-[#0dff66] dark:hover:border-neutral-600 light:bg-gray-100 light:border-gray-300 light:text-black light:placeholder-gray-500 light:focus:border-orange-400 light:hover:border-gray-400"
				/>
				<button 
					type="submit"
					class="px-2 sm:px-6 py-2 bg-[#0dff66] text-black font-extrabold uppercase tracking-tight hover:brightness-90 hover:shadow-[0_0_10px_#0dff66] transition border-2 border-neutral-700 text-xs sm:text-sm whitespace-nowrap dark:bg-[#0dff66] dark:text-black dark:border-neutral-700 light:bg-orange-400 light:text-white light:border-gray-400"
				>
					Search
				</button>
			</form>

			<!-- Search Results Dropdown -->
			<div id="search-results-dropdown" class="absolute left-0 right-0 top-full translate-y-[2px] bg-neutral-900 border-x-2 border-b-2 border-[#0dff66] hidden z-[60] shadow-[0_10px_20px_rgba(0,0,0,0.5)]">
				<!-- Results will be injected here -->
			</div>

			<!-- Theme Toggle Button -->
			<button 
				id="theme-toggle-btn"
				class="p-2 rounded-lg border-2 border-neutral-700 hover:bg-neutral-800 transition-colors ml-2 dark:border-neutral-700 dark:hover:bg-neutral-800 light:border-gray-300 light:hover:bg-gray-200"
				title="Toggle dark/light mode"
			>
				<svg class="w-5 h-5 text-white dark:text-white light:text-black" fill="none" viewBox="0 0 24 24" stroke="currentColor">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m6.364 1.636l-.707.707M21 12h-1m-1.636-6.364l-.707-.707M12 21v-1m-6.364-1.636l.707-.707M3 12h1m1.636 6.364l.707.707M12 12a3 3 0 110-6 3 3 0 010 6z" />
				</svg>
			</button>
		</div>
	</div>

	<!-- Search Results Dropdown -->
	<div id="search-results-dropdown" class="fixed left-0 right-0 z-40 bg-neutral-900 border-x-2 border-b-2 border-[#0dff66] hidden shadow-[0_10px_20px_rgba(0,0,0,0.5)]">
		<!-- Results will be injected here -->
	</div>

<br>

<h1 class="text-[8vw] md:text-[10vw] font-extrabold uppercase tracking-tighter leading-[0.8] text-gay-100 float-start mt-5">
	FT/<br />TRASCENDENCE
</h1>
<p class="max-w-2xl mt-10 text-lg md:text-2xl tracking-wide text-neutral-500 text-center font-bold px-4">
	Yesterday Dr.Phil was just an ordinary human.
</p>

<br>

<!-- Slideshow Wrapper -->
<div class="relative w-full flex items-center justify-center max-w-[60vh]">
  <!-- Previous Button -->
    <button id="slideshow-prev-btn" 
      class="absolute left-0 z-10 p-2 sm:p-3 bg-[#ff009d] text-white font-extrabold uppercase tracking-tight hover:brightness-90 transition border-2 border-neutral-700 rounded-full w-8 h-8 sm:w-12 sm:h-12 flex items-center justify-center">
      <svg class="w-4 h-4 sm:w-6 sm:h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
    </button>

      <!-- Slides Container -->
      <div class="w-full mx-auto px-4 sm:px-8 md:px-16">
        
        <!-- CARD PONG -->
        <div id="pong-card-wrapper" class="hidden">
          <button id="pong-card-btn" class="p-10 w-full
          border-4 border-neutral-700 bg-neutral-900
          shadow-[10px_10px_0_0_#ff009d] overflow-hidden
          hover:shadow-lg hover:brightness-110 transition-all duration-300 cursor-pointer block text-left
          slideshow-slide">

            <h3 class="text-3xl font-extrabold mb-6 uppercase tracking-tight text-[#ff009d] text-center hover:underline scale-105 duration-300">
              Play pong
            </h3>

            <div class="w-full aspect-square relative border-4 border-double border-white mx-auto">
              <div class="absolute top-0 left-1/2 -translate-x-1/2 w-0 h-full border-dotted border-r-2 border-white"></div>
              <div class="absolute left-[6%] w-[0.3vw] h-[1.2vw] bg-white animate-[ping_6s_linear_infinite]"></div>
              <div class="absolute right-[6%] w-[0.3vw] h-[1.2vw] bg-white animate-[pong_6s_linear_infinite]"></div>
              <div class="absolute w-[0.4vw] h-[0.4vw] bg-white animate-[ball_6s_linear_infinite]"></div>
            </div>
          </button>
        </div>

        <!-- Tic tac toe -->
        <div id="tris-card-wrapper">
          <button id="tris-card-btn" class="p-10 w-full
          border-4 border-neutral-700 bg-neutral-900
          shadow-[10px_10px_0_0_#ff009d] overflow-hidden
          hover:shadow-lg hover:brightness-110 transition-all duration-300 cursor-pointer block text-left
          slideshow-slide">

  	<h3 class="text-3xl font-extrabold mb-6 uppercase tracking-tight text-[#ff009d] text-center hover:underline scale-105 duration-300">
  		Play tris
  	</h3>

  	<div class="relative w-full aspect-square border-4 border-double border-white mx-auto overflow-hidden pointer-events-none">

  	<!-- Vertical grid lines -->
  	<div class="absolute left-1/3 top-0 w-[2px] h-full bg-white animate-grid-v"></div>
  	<div class="absolute left-2/3 top-0 w-[2px] h-full bg-white animate-grid-v" style="animation-delay: 0.2s;"></div>

  	<!-- Horizontal grid lines -->
  	<div class="absolute top-1/3 left-0 h-[2px] w-full bg-white animate-grid-h"></div>
  	<div class="absolute top-2/3 left-0 h-[2px] w-full bg-white animate-grid-h" style="animation-delay: 0.2s;"></div>

  	<!-- X -->
  	<div class="absolute inset-0 animate-x">
  		<div class="absolute top-[40%] left-[40%] w-[30%] h-[2px] bg-white rotate-45 origin-left"></div>
  		<div class="absolute top-[60%] left-[40%] w-[30%] h-[2px] bg-white -rotate-45 origin-left"></div>
  	</div>

  	<!-- O -->
  	<div class="absolute inset-0 animate-o">
  		<div class="absolute top-[40%] left-[40%] w-[20%] h-[20%] rounded-full border-2 border-white"></div>
  	</div>

  	</div>
          </button>
        </div>
      </div>

      <!-- Next Button -->
    <label for="slideshow-next-btn">
      <button id="slideshow-next-btn" 
        class="absolute right-0 z-10 p-2 sm:p-3 bg-[#ff009d] text-white font-extrabold uppercase tracking-tight hover:brightness-90 transition border-2 border-neutral-700 rounded-full w-8 h-8 sm:w-12 sm:h-12 flex items-center justify-center">
        <svg class="w-4 h-4 sm:w-6 sm:h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </button>
    </label>
    </div>

    <!-- Slideshow Indicators (dots) -->
    <div class="flex gap-3 justify-center mt-8">
      <button class="slideshow-indicator w-3 h-3 rounded-full bg-[#ff009d] transition-all duration-300 active" data-slide="tris"></button>
      <button class="slideshow-indicator w-3 h-3 rounded-full bg-neutral-700 transition-all duration-300 hover:bg-neutral-600" data-slide="pong"></button>
    </div>
  </div>

  <!-- Auth Container (Right Side) -->
  <div class="flex-1 flex flex-col items-center justify-start">
    <div id="online-count-container" class="w-full text-center mb-6">
      <h3 id="online-count" class="text-xl font-extrabold tracking-tight uppercase text-neutral-400">
        join now ! 42 user online
      </h3>
    </div>
    <div id="auth-container"
    class="w-full flex items-center justify-center">
    </div>
  </div>
<br>
</section>
<section class="py-10 relative overflow-hidden border-y-2 border-yellow-300">
	<br>
	<div class="whitespace-nowrap animate-[scroll_75s_linear_infinite] text-yellow-300 uppercase font-black tracking-tighter text-7xl opacity-40">
		Tournaments ‚Ä¢ Pong ‚Ä¢ Tic ‚Ä¢ Tac ‚Ä¢ Toe ‚Ä¢ Multiplayer ‚Ä¢ Rankings ‚Ä¢
	</div>
	<br>
</section>

<section class="px-8 py-24 bg-black">
	<h2 class="text-6xl md:text-8xl font-black uppercase mb-20 tracking-tight text-white leading-none">
		DESIGN FORMULA
	</h2>
	<div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-16">
		<div class="p-10 border-4 border-neutral-700 bg-neutral-900 shadow-[10px_10px_0_0_#ff00aa] overflow-hidden">
			<h3 class="text-4xl font-extrabold mb-6 uppercase tracking-tight text-pink-300">Colorful black</h3>
			<p class="text-neutral-300 text-lg">High-contrast palettes</p>
		</div>
		<div class="p-10 border-4 border-neutral-700 bg-neutral-900 shadow-[10px_10px_0_0_#00ff78] overflow-hidden">
			<h3 class="text-4xl font-extrabold mb-6 uppercase tracking-tight text-green-300">Strong Typography</h3>
			<p class="text-neutral-300 text-lg">Oversized, warped type.</p>
		</div>
		<div class="p-10 border-4 border-neutral-700 bg-neutral-900 shadow-[10px_10px_0_0_#ffee00] overflow-hidden">
			<h3 class="text-4xl font-extrabold mb-6 uppercase tracking-tight text-yellow-300">Layouts</h3>
			<p class="text-neutral-300 text-lg">Unpolished layouts.</p>
		</div>
		<div class="p-10 border-4 border-neutral-700 bg-neutral-900 shadow-[10px_10px_0_0_#67e8f9] overflow-hidden">
			<h3 class="text-4xl font-extrabold mb-6 uppercase tracking-tight text-cyan-300">Textures</h3>
			<p class="text-neutral-300 text-lg">Futuristic and tactile.</p>
		</div>
	</div>
</section>

<footer class="py-12 px-8 text-center border-t-2 border-neutral-800 bg-black text-neutral-500 transform -skew-y-1">
	¬© 2025 ft_footer
</footer>

<!-- Profile card template (hidden) -->
<template id="profile-card-template">
	<div class="p-4 sm:p-6 md:p-10 w-full border-2 border-neutral-700 rounded-xl bg-neutral-900 shadow-[10px_10px_0_0_#00ffff] overflow-hidden hover:shadow-lg hover:brightness-110 transition-all duration-300">
		<!-- Header with avatar and title -->
		<div class=" flex flex-col md:flex-row items-start gap-4 sm:gap-6 md:gap-8 mb-8">
			<!-- Avatar -->
			<div class="relative flex-shrink-0 z-30">
				<label class="cursor-pointer">
					<input id="input-avatar" type="file" class="hidden" />
					
					<div class="relative w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 aspect-square rounded-md overflow-hidden border-4 border-neutral-400 flex items-center justify-center bg-neutral-800">
						<img id="profile-avatar" alt="avatar" class="w-15 h-15 object-cover" src="/assets/placeholder-avatar.jpg" />
						<figcaption class="absolute w-full h-full opacity-0 bg-black/0 transition duration-300 ease-in-out hover:opacity-100 hover:bg-black/70 cursor-pointer flex items-center justify-center">
							<svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.217A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.217A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
							</svg>
						</figcaption>
					</div>
				</label>
			</div>

			<!-- Title and info section -->
			<div class="flex-1 w-full z-30">
				<!-- Username -->
				<h1 id="profile-username" class="text-2xl sm:text-3xl md:text-4xl font-extrabold tracking-tight text-[#0dff66] mb-4 sm:mb-6 capitalize">User</h1>
				
				<!-- Email and ID -->
				<div class="space-y-2 sm:space-y-3 mb-4 sm:mb-6 text-sm sm:text-base md:text-lg">
					<div class="flex items-center gap-2">
						<span class="font-extrabold text-white">Email:</span> 
						<span class="text-neutral-400" id="profile-email">email@example.com</span>
					</div>
					<div class="flex items-center gap-2">
						<span class="font-extrabold text-white">User ID:</span> 
						<span class="text-neutral-400" id="profile-id">0</span>
					</div>
					<div class="flex items-center gap-2">
						<span class="font-extrabold text-white">Rank:</span> 
						<span class="text-neutral-400" id="profile-rank">Rookie</span>
					</div>
					<div class="flex items-center gap-2">
						<span class="font-extrabold text-white">Wins:</span> 
						<span class="text-neutral-400" id="profile-wins">0</span>
					</div>
				</div>

				<!-- Action buttons and 2FA toggle -->
				<div class="flex flex-wrap gap-2 sm:gap-3 items-center">
					<!-- Chat button -->
					<button id="profile-chat-btn" class="px-3 sm:px-6 py-2 text-xs sm:text-sm md:text-base bg-[#0dff66] text-black font-extrabold uppercase tracking-tight hover:brightness-90 transition whitespace-nowrap">
						Chat
					</button>
					<!-- Logout button -->
					<button id="profile-logout-btn" class="px-3 sm:px-6 py-2 text-xs sm:text-sm md:text-base bg-neutral-700 text-white font-extrabold uppercase tracking-tight border-2 border-neutral-600 hover:bg-neutral-600 transition whitespace-nowrap">
						Logout
					</button>
					<!-- Delete account button -->
					<button command="show-modal" commandfor="delete-dialog" class="px-3 sm:px-6 py-2 text-xs sm:text-sm md:text-base bg-[#f73c3c] text-white font-extrabold uppercase tracking-tight hover:brightness-90 transition whitespace-nowrap">
						Delete
					</button>

					<!-- Language selector -->
					<select id="profile-language" class="px-2 sm:px-4 py-2 text-xs sm:text-sm md:text-base bg-neutral-700 text-white font-extrabold uppercase tracking-tight border-2 border-neutral-600 hover:bg-neutral-600 transition rounded">
						<option value="en">English</option>
						<option value="fr">Fran√ßais</option>
						<option value="it">Italiano</option>
					</select>

					<!-- 2FA toggle -->
					<div class="flex items-center gap-2 ml-auto">
						<input id="input-lock" type="checkbox" class="hidden peer">
						<label
							for="input-lock"
							class="btn-lock group inline-flex items-center h-10 px-4 bg-[#bd4747] border-2 border-neutral-600 font-extrabold text-white uppercase tracking-tight text-sm cursor-pointer select-none transition-all duration-300 hover:brightness-110 peer-checked:bg-[#0abe4c]"
						>
							<svg viewBox="0 0 30 40" class="w-5 h-5 mr-2">
								<path class="lockb" d="M27 27C27 34.1797 21.1797 40 14 40C6.8203 40 1 34.1797 1 27C1 19.8203 6.8203 14 14 14C21.1797 14 27 19.8203 27 27ZM15.6298 26.5191C16.4544 25.9845 17 25.056 17 24C17 22.3431 15.6569 21 14 21C12.3431 21 11 22.3431 11 24C11 25.056 11.5456 25.9845 12.3702 26.5191L11 32H17L15.6298 26.5191Z"></path>
								<path class="lock" d="M6 21V10C6 5.58172 9.58172 2 14 2V2C18.4183 2 22 5.58172 22 10V21"></path>
							</svg>
							<span id="profile-tfa" class="whitespace-nowrap">2FA</span>
						</label>
					</div>
				</div>
			</div>
		</div>

		<!-- Divider -->
		<div class="h-1 w-full bg-neutral-700 mb-6"></div>

		<!-- About section -->
		<div>
			<h3 class="text-lg sm:text-xl font-extrabold uppercase tracking-tight text-neutral-300 mb-3">Account Info</h3>
			<p class="text-neutral-400 leading-relaxed text-sm sm:text-base">
				This is your personal profile card. Your email and ID are used for account authentication and security purposes.
			</p>
		</div>

		<!-- Game Statistics Section -->
		<div id="profile-charts-section" class="mt-6 sm:mt-8 pt-6 sm:pt-8 border-t border-neutral-700">
			<h3 class="text-lg sm:text-xl font-extrabold uppercase tracking-tight text-neutral-300 mb-4 sm:mb-6">Game Statistics</h3>
			<div class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6">
				<!-- Stats containers will be added here -->
			</div>

			<!-- Match History Charts -->
			<div id="profile-match-history" class="mt-6 sm:mt-8 pt-6 sm:pt-8 border-t border-neutral-700">
				<h3 class="text-lg sm:text-xl font-extrabold uppercase tracking-tight text-neutral-300 mb-4 sm:mb-6">Match History</h3>
				<div class="space-y-4 sm:space-y-6">
					<!-- Pong match history chart will be rendered here -->
					<!-- Tris match history chart will be rendered here -->
				</div>
			</div>
		</div>
	</div>
</template>
<el-dialog>
  <dialog id="delete-dialog" aria-labelledby="dialog-title" class="fixed inset-0 size-auto max-h-none max-w-none overflow-y-auto bg-transparent backdrop:bg-transparent">
    <el-dialog-backdrop class="fixed inset-0 bg-gray-950/50 transition-opacity data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in"></el-dialog-backdrop>

    <div tabindex="0" class="flex min-h-full items-end justify-center p-4 text-center focus:outline-none sm:items-center sm:p-0">
      <el-dialog-panel class="relative transform overflow-hidden border-neutral-700 bg-neutral-900 rounded-xl pb-6 
	  						shadow-[10px_10px_0_0_#f73c3c] transition-all duration-[0.4s] hover:shadow-lg w-full h-full 
							outline -outline-offset-1 outline-white/10 data-closed:translate-y-4 data-closed:opacity-0
							data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in sm:my-8
							 sm:w-full sm:max-w-lg data-closed:sm:translate-y-0 data-closed:sm:scale-95">
        <div class="bg-neutral-900 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
          <div class="sm:flex sm:items-start">
            <div class="mx-auto flex size-12 shrink-0 items-center justify-center rounded-full bg-red-500/10 sm:mx-0 sm:size-10">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-slot="icon" aria-hidden="true" class="size-6 text-red-400">
                <path d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </div>
            <div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
              <h3 id="dialog-title" class="text-base font-semibold text-white">Deactivate account</h3>
              <div class="mt-2">
                <p class="text-sm text-gray-400">Are you sure you want to deactivate your account? All of your data will be permanently removed. This action cannot be undone.</p>
              </div>
            </div>
          </div>
        </div>
        <div class="bg-gray-800/25 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
          <button type="button" id="confirm-delete-btn" command="close" commandfor="delete-dialog" class="inline-flex w-full justify-center rounded-md bg-red-500 px-3 py-2 text-sm font-semibold text-white hover:bg-red-400 sm:ml-3 sm:w-auto">Deactivate</button>
          <button type="button" command="close" commandfor="delete-dialog" class="mt-3 inline-flex w-full justify-center rounded-md bg-white/10 px-3 py-2 text-sm font-semibold text-white inset-ring inset-ring-white/5 hover:bg-white/20 sm:mt-0 sm:w-auto">Cancel</button>
        </div>
      </el-dialog-panel>
    </div>
  </dialog>
</el-dialog>
<!-- Chat Modal -->
<div
  id="chat-modal"
  tabindex="-1"
  class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 
         justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"
>
  <div class="relative p-4 w-full max-w-4xl max-h-full">
    <div class="relative bg-neutral-900 border border-neutral-700 rounded-xl shadow-lg h-[80vh] flex flex-col md:flex-row">

      <!-- Close button -->
      <button
        type="button"
        class="absolute top-3 right-3 z-10 text-neutral-400 bg-transparent 
               hover:bg-neutral-800 hover:text-white rounded-lg text-sm 
               w-9 h-9 inline-flex justify-center items-center"
        id="chat-close-btn"
      >
        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M6 18L18 6M6 6l12 12"/>
        </svg>
        <span class="sr-only">Close modal</span>
      </button>

      <!-- Sidebar with chat list -->
      <div class="w-80 bg-neutral-800 border-r border-neutral-700 flex flex-col">
        <div class="p-4 border-b border-neutral-700">
          <h3 class="text-lg font-semibold text-white">Chats</h3>
          <button
            id="create-group-btn"
            class="mt-3 w-full bg-[#0dff66] text-black px-3 py-2 rounded-md font-semibold text-sm hover:brightness-90 transition"
          >
            + Create Group
          </button>
        </div>
        <div id="chat-list" class="flex-1 overflow-y-auto p-2">
          <!-- Chat items will be populated here -->
        </div>
      </div>

      <!-- Main chat area -->
      <div class="flex-1 flex flex-col">
        <!-- Chat header -->
        <div class="p-4 border-b border-neutral-700 bg-neutral-800 flex justify-between items-center">
          <h2 id="chat-header" class="text-xl font-semibold text-white">Select a chat</h2>
          <button
            id="leave-group-btn"
            class="hidden px-3 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-semibold rounded-lg transition-colors"
            title="Leave this group chat"
          >
            Leave Group
          </button>
        </div>

        <!-- Messages container with load more button -->
        <div class="flex-1 overflow-y-auto p-4 space-y-3 bg-neutral-900 flex flex-col">
          <button id="load-more-btn" class="btn btn-secondary mx-auto mb-4" style="display: none;">
            Load More Messages
          </button>
          <div id="chat-messages" class="space-y-3">
            <!-- Messages will be appended here -->
          </div>
        </div>

        <!-- Chat input -->
        <div class="p-4 border-t border-neutral-700 bg-neutral-800">
          <div class="flex gap-2">
            <input
              id="chat-input"
              type="text"
              class="flex-1 bg-neutral-700 text-white px-3 py-2 rounded-md border border-neutral-600 focus:outline-none focus:border-blue-500"
              placeholder="Type a message..."
            />
            <button
              id="chat-send-btn"
              class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-500 transition"
            >
              Send
            </button>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- Friend Selection Modal for Group Creation -->
<div
  id="friend-selection-modal"
  tabindex="-1"
  class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-[51] 
         justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full bg-black/50"
>
  <div class="relative p-4 w-full max-w-2xl max-h-full">
    <div class="relative bg-neutral-900 border border-neutral-700 rounded-xl shadow-lg p-6">

      <!-- Close button -->
      <button
        type="button"
        class="absolute top-3 right-3 z-10 text-neutral-400 bg-transparent 
               hover:bg-neutral-800 hover:text-white rounded-lg text-sm 
               w-9 h-9 inline-flex justify-center items-center"
        id="friend-modal-close-btn"
      >
        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M6 18L18 6M6 6l12 12"/>
        </svg>
        <span class="sr-only">Close modal</span>
      </button>

      <!-- Header -->
      <h2 class="text-2xl font-bold text-white mb-4">Create Group Chat</h2>
      <p class="text-neutral-400 mb-6">Select friends to add to the group (at least 2):</p>

      <!-- Group name input -->
      <div class="mb-6">
        <label for="group-name-input" class="block text-white font-semibold mb-2">Group Name</label>
        <input
          id="group-name-input"
          type="text"
          class="w-full bg-neutral-700 text-white px-3 py-2 rounded-md border border-neutral-600 focus:outline-none focus:border-[#0dff66]"
          placeholder="Enter group name..."
        />
      </div>

      <!-- Friends list -->
      <div id="friends-list" class="border border-neutral-700 rounded-md p-4 mb-6 max-h-96 overflow-y-auto bg-neutral-800">
        <div class="text-neutral-400 text-center">Loading friends...</div>
      </div>

      <!-- Selected friends display -->
      <div id="selected-friends" class="mb-6 p-3 bg-neutral-800 rounded-md border border-neutral-700 min-h-12">
        <p class="text-sm text-neutral-400 mb-2">Selected: <span id="selected-count">0</span></p>
        <div id="selected-friends-tags" class="flex flex-wrap gap-2">
          <!-- Selected friend tags will appear here -->
        </div>
      </div>

      <!-- Buttons -->
      <div class="flex gap-3 justify-end">
        <button
          id="friend-modal-cancel-btn"
          class="px-4 py-2 bg-neutral-700 text-white rounded-md hover:bg-neutral-600 transition"
        >
          Cancel
        </button>
        <button
          id="create-group-submit-btn"
          class="px-4 py-2 bg-[#0dff66] text-black font-semibold rounded-md hover:brightness-90 transition disabled:opacity-50 disabled:cursor-not-allowed"
          disabled
        >
          Create Group
        </button>
      </div>

    </div>
  </div>
</div>
<div id="toast-container-top-right" class="fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none"></div>
<div id="toast-container-top-center" class="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 flex flex-col gap-2 pointer-events-none"></div>
<div id="toast-container-top-left" class="fixed top-4 left-4 z-50 flex flex-col gap-2 pointer-events-none"></div>
<div id="toast-container-bottom-right" class="fixed bottom-4 right-4 z-50 flex flex-col gap-2 pointer-events-none"></div>
<div id="toast-container-bottom-center" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 flex flex-col gap-2 pointer-events-none"></div>
<div id="toast-container-bottom-left" class="fixed bottom-4 left-4 z-50 flex flex-col gap-2 pointer-events-none"></div>


<!-- Tris Mode Selection Modal -->
<div
  id="tris-mode-modal"
  tabindex="-1"
  class="hidden fixed inset-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50"
>
  <div class="relative p-4 w-full max-w-xl">
    <div class="relative bg-neutral-900 border-4 border-neutral-700 shadow-[10px_10px_0_0_#ff009d] h-auto flex flex-col hover:shadow-lg transition duration-300">
      
      <!-- Close button -->
      <button
        type="button"
        class="absolute top-4 right-4 z-10 text-neutral-400 bg-transparent 
               hover:bg-neutral-800 hover:text-white transition border-2 border-neutral-700
               w-8 h-8 inline-flex justify-center items-center"
        id="tris-mode-close-btn"
      >
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>

      <!-- Header -->
      <div class="p-8 border-b-2 border-neutral-700 bg-neutral-800">
        <h2 class="text-3xl font-extrabold uppercase tracking-tight text-[#ff009d]">Select Game Mode</h2>
        <p class="text-neutral-400 text-sm mt-2">Choose how you want to play Tris</p>
      </div>

      <!-- Mode selection area -->
      <div class="p-8 flex flex-col gap-4">
        <!-- Online Mode -->
        <button
          id="tris-mode-online"
          class="group relative p-6 bg-gradient-to-br from-neutral-800 to-neutral-900 border-3 border-neutral-700 
                 hover:border-[#0dff66] transition-all duration-300 hover:shadow-[0_0_20px_rgba(13,255,102,0.3)]
                 flex flex-col items-start gap-2 cursor-pointer"
        >
          <span class="text-xl font-extrabold uppercase text-[#0dff66]">üåê Online</span>
          <span class="text-sm text-neutral-400 group-hover:text-neutral-300 transition">
            Play against other players online with matchmaking
          </span>
        </button>

        <!-- Offline 1v1 Mode -->
        <button
          id="tris-mode-offline-1v1"
          class="group relative p-6 bg-gradient-to-br from-neutral-800 to-neutral-900 border-3 border-neutral-700 
                 hover:border-[#00ffff] transition-all duration-300 hover:shadow-[0_0_20px_rgba(0,255,255,0.3)]
                 flex flex-col items-start gap-2 cursor-pointer"
        >
          <span class="text-xl font-extrabold uppercase text-[#00ffff]">üë• Offline 1v1</span>
          <span class="text-sm text-neutral-400 group-hover:text-neutral-300 transition">
            Play against a friend on the same device
          </span>
        </button>

        <!-- Offline AI Mode -->
        <button
          id="tris-mode-offline-ai"
          class="group relative p-6 bg-gradient-to-br from-neutral-800 to-neutral-900 border-3 border-neutral-700 
                 hover:border-[#ff00ff] transition-all duration-300 hover:shadow-[0_0_20px_rgba(255,0,255,0.3)]
                 flex flex-col items-start gap-2 cursor-pointer"
        >
          <span class="text-xl font-extrabold uppercase text-[#ff00ff]">ü§ñ Offline Bot</span>
          <span class="text-sm text-neutral-400 group-hover:text-neutral-300 transition">
            Play against an AI bot locally
          </span>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Tris Game Modal -->
<div
  id="tris-modal"
  tabindex="-1"
  class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-10 
         justify-center items-center w-full md:inset-0 h-[calc(100%-1rem)] max-h-full"
>
  <div class="relative p-4 w-full max-w-2xl max-h-full">
    <div class="relative bg-neutral-900 border-4 border-neutral-700 shadow-[10px_10px_0_0_#ff009d] h-auto flex flex-col">

      <!-- Close button -->
      <button
        type="button"
        class="absolute top-4 right-4 z-10 text-neutral-400 bg-transparent 
               hover:bg-neutral-800 hover:text-white transition border-2 border-neutral-700
               w-8 h-8 inline-flex justify-center items-center"
        id="tris-close-btn"
      >
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>

      <!-- Header -->
      <div class="p-6 border-b-2 border-neutral-700 bg-neutral-800">
        <div class="flex items-center gap-3">
          <h2 class="text-2xl font-extrabold uppercase tracking-tight text-[#ff009d]">Tris Game</h2>
          <span id="tris-game-id" class="text-sm text-neutral-400 font-mono"></span>
        </div>
      </div>

      <!-- Game area -->
      <div class="p-6 flex flex-col gap-6">
        <!-- Game board (3x3 grid) -->
        <div id="tris-board" class="grid grid-cols-3 gap-2 w-full max-w-xs mx-auto">
          <!-- Cells will be generated by JS -->
        </div>

        <!-- Game status -->
        <div id="tris-status" class="text-center p-4 bg-neutral-800 border-2 border-neutral-700 text-white font-semibold uppercase">
          Connecting...
        </div>

        <!-- Control buttons -->
        <div class="flex gap-3 justify-center flex-wrap">
          <button 
            id="tris-start-btn"
            class="px-6 py-2 bg-[#0dff66] text-black font-extrabold uppercase tracking-tight hover:brightness-90 transition border-2 border-neutral-700"
          >
            Start Game
          </button>
          <button 
            id="tris-invite-btn"
            class="px-6 py-2 bg-[#00ffff] text-black font-extrabold uppercase tracking-tight hover:brightness-90 transition border-2 border-neutral-700"
          >
            Invite Friend
          </button>
          <button 
            id="tris-surrender-btn"
            class="px-6 py-2 bg-[#f73c3c] text-white font-extrabold uppercase tracking-tight hover:brightness-90 transition border-2 border-neutral-700"
          >
            Surrender
          </button>
          <button 
            id="tris-reset-btn"
            class="px-6 py-2 bg-neutral-700 text-white font-extrabold uppercase tracking-tight hover:bg-neutral-600 transition border-2 border-neutral-700"
          >
            Reset
          </button>
        </div>

        <!-- Error message -->
        <div id="tris-error" class="text-red-500 text-sm text-center hidden"></div>
      </div>
    </div>
  </div>
</div>

<!-- Tris Invite Modal -->
<div
  id="tris-invite-modal"
  tabindex="-1"
  class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-30 
         flex justify-center items-center w-full md:inset-0 h-full max-h-full"
>
  <div class="relative p-4 w-full max-w-md max-h-full">
    <div class="relative bg-neutral-900 border-4 border-neutral-700 shadow-[10px_10px_0_0_#00ffff] h-auto flex flex-col">

      <!-- Close button -->
      <button
        type="button"
        class="absolute top-4 right-4 z-50 text-white bg-transparent 
               hover:bg-neutral-800 hover:text-white transition border-2 border-neutral-700
               w-8 h-8 inline-flex justify-center items-center"
        id="tris-invite-close-btn"
      >
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>

      <!-- Header -->
      <div class="p-6 border-b-2 border-neutral-700 bg-neutral-800">
        <h2 class="text-2xl font-extrabold uppercase tracking-tight text-[#00ffff]">Invite Friend</h2>
        <p class="text-neutral-400 text-sm mt-2">Select a friend to invite to tris</p>
      </div>

      <!-- Friends list -->
      <div id="tris-friends-list" class="p-6 flex flex-col gap-2 max-h-96 overflow-y-auto">
        <div class="text-neutral-400 text-center py-4">Loading friends...</div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
